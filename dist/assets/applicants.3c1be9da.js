import{_ as E,a as H}from"./VFlexTable.vue_vue_type_style_index_0_lang.17f75b6f.js";import{_ as I}from"./VFlexPagination.7e70ebda.js";import{_ as O}from"./ApplicantFlexTableDropdown.vue_vue_type_script_setup_true_lang.c3d4b139.js";import{_ as U}from"./StatusTag.vue_vue_type_script_setup_true_lang.90c589be.js";import{_ as z}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.8c9081fa.js";import{_ as G}from"./VFlexTableToolbar.4707baf3.js";import{z as Q,N as J,$ as K,O as L,r as w,e as k,bQ as V,B as X,p as Z,o as l,i as d,q as e,w as o,E as a,G as x,x as Y,bp as $,t as b,l as p,f as h,j as tt,a3 as et,a1 as at,P as ot,a2 as nt}from"./index.1658e387.js";import{l as st}from"./lodash.bd34ba7d.js";import{f as rt}from"./index.d76f2506.js";import{u as lt}from"./viewWrapper.1ab7734d.js";import"./VFlex.vue_vue_type_style_index_0_lang.b35cbeb0.js";import"./VDropdown.vue_vue_type_style_index_0_lang.ca82b83f.js";import"./VIcon.vue_vue_type_script_setup_true_lang.e3275797.js";import"./VTag.vue_vue_type_style_index_0_lang.6ab5950f.js";const it={class:"applicant-list-wrapper"},ct=tt("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),pt=["textContent"],_t={key:0,class:"flex-list-inner"},ut={key:0,style:{"overflow-wrap":"break-word"}},mt={key:2},Bt=Q({setup(dt){const{t:r,locale:D}=J(),C=K();L({title:r("Applicant_report")+" - Nefrit"}),lt().setPageTitle(r("Applicant_report"));const s=w({pagination:{current_page:1,per_page:10,total:10},result:[]}),f=k({get:()=>s.pagination.current_page,set:async t=>{await g(t)}}),P=w({type:"string",mask:"YYYY-MM-DD"}),u=k({get:()=>({start:V().subtract(1,"month").format("YYYY-MM-DD"),end:V().format("YYYY-MM-DD")}),set:async t=>{console.log({val:t}),st.exports.isEmpty(t)||await g(1,{date_start:t.start,date_end:t.end})}}),v={orderNumber:{format:(t,i,_)=>`${_+1}`,cellClass:"is-flex-grow-0"},name:{label:r("Applicant_name"),grow:!0},boss_name:{label:r("Boss_name")},phone:{label:r("Phone_number")},status:{label:r("Status")},country:{label:r("Country")},actions:{label:r("Actions"),align:"center"}};X(async()=>{await g(1,{date_start:u.value.start,date_end:u.value.end})});async function g(t=1,i={date_start:"",date_end:""}){const _=await rt({page:t,...i});Object.assign(s,_)}function M(t){C.push("/app/applicants/"+t)}return(t,i)=>{const _=et,y=at,N=ot,T=nt,B=Z("VDatePicker"),A=G,F=z,S=U,W=O,R=E,j=I,q=H;return l(),d("div",it,[e(q,{columns:a(v),data:a(s).result,limit:a(s).pagination.per_page,total:a(s).pagination.total},{default:o(gt=>[e(A,null,{left:o(()=>[e(B,{locale:a(D),class:"ml-auto",modelValue:a(u),"onUpdate:modelValue":i[0]||(i[0]=n=>x(u)?u.value=n:null),"is-range":"",color:"green","trim-weeks":"","model-config":a(P)},{default:o(({inputValue:n,inputEvents:c})=>[e(T,{addons:""},{default:o(()=>[e(y,{expanded:"",icon:"feather:corner-down-right"},{default:o(()=>[e(_,Y({value:n.start},$(c.start)),null,16,["value"])]),_:2},1024),e(y,null,{default:o(()=>[e(N,{static:""},{default:o(()=>[ct]),_:1})]),_:1}),e(y,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:o(()=>[e(_,Y({value:n.end},$(c.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(R,{rounded:""},{"header-column":o(({column:n})=>[n.key==="orderNumber"?(l(),d("span",{key:0,class:"is-flex-grow-0",textContent:b("#")},null,8,pt)):p("",!0)]),body:o(()=>[a(s).result.length===0?(l(),d("div",_t,[e(F,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):p("",!0)]),"body-cell":o(({row:n,column:c,value:m,index:yt})=>[c.key==="name"?(l(),d("p",ut,b(m),1)):p("",!0),c.key==="status"&&m?(l(),h(S,{key:1,status:m},null,8,["status"])):p("",!0),c.key==="country"&&m?(l(),d("span",mt,b(m.name),1)):p("",!0),c.key==="actions"?(l(),h(W,{key:3,onView:bt=>M(n.id)},null,8,["onView"])):p("",!0)]),_:1}),a(s).result.length?(l(),h(j,{key:0,class:"mt-6","current-page":a(f),"onUpdate:current-page":i[1]||(i[1]=n=>x(f)?f.value=n:null),"item-per-page":a(s).pagination.per_page,"total-items":a(s).pagination.total},null,8,["current-page","item-per-page","total-items"])):p("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{Bt as default};
