import{A as I,W as x,B,a0 as N,Z as S,P as U,b as D,a as L,r as P,bP as R,o as T,g as A,w as t,k as e,s as o,a1 as E,O as F,G as n,t as l,x as v,p as O,T as W,a4 as j,a2 as K,a3 as q,bU as G,Q as H}from"./index.433ccf37.js";const M={class:"auth-wrapper-inner columns is-gapless"},Q={class:"column"},Z={class:"hero is-fullheight is-white"},z={class:"hero-heading"},J=["checked"],X=e("span",null,null,-1),Y={class:"hero-body"},ee={class:"container"},se={class:"columns"},oe={class:"column is-12"},ae={class:"auth-content"},te={class:"auth-form-wrapper"},ne=["onSubmit"],re={class:"login-form"},le={class:"help has-text-danger"},ce={class:"help has-text-danger"},ie={class:"login"},_e=I({setup(de){const{t:b}=x(),c=B(!1),i=N(),d=S(),w=U(),u=D(),{loginUser:y,isLoggedIn:k}=L(),m=w.query.redirect,r=P({username:"",password:""});k&&d.push({name:"app"});const $=async a=>{try{c.value=!0;const s=Object.fromEntries(new FormData(a.target));await y(s),u.dismissAll(),u.success(`${b("Welcome_back")}, ${s.username?.toUpperCase()}`),m?d.push(m):d.push({name:"app"})}catch(s){Object.assign(r,s.response?.data?.errors),s.response?.data?.errors.message&&u.error(s.response?.data?.errors.message[0])}finally{c.value=!1}};R({title:"Auth Login - Vuero"});function f(a){r[a.target.name]=""}return(a,s)=>{const g=j,_=K,p=q,V=G,C=H;return T(),A(W,{name:"fade-fast",mode:"out-in"},{default:t(()=>[e("div",M,[e("div",Q,[e("div",Z,[e("div",z,[o(E),e("label",{class:"dark-mode",tabindex:"0",onKeydown:s[1]||(s[1]=F(v(h=>h.target.click(),["prevent"]),["space"]))},[e("input",{type:"checkbox",checked:!n(i).isDark,onChange:s[0]||(s[0]=(...h)=>n(i).onChange&&n(i).onChange(...h))},null,40,J),X],32)]),e("div",Y,[e("div",ee,[e("div",se,[e("div",oe,[e("div",ae,[e("h2",null,l(a.$t("Welcome_to_NEFRIT")),1),e("p",null,l(a.$t("Please_sign_in_to_your_account")),1)]),e("div",te,[e("form",{onSubmit:v($,["prevent"])},[e("div",re,[o(p,null,{default:t(()=>[o(_,{icon:"feather:user","has-error":n(r).username[0]},{default:t(()=>[o(g,{type:"text",name:"username",placeholder:a.$t("Username"),autocomplete:"username",onInput:f},null,8,["placeholder"]),e("p",le,l(n(r).username[0]),1)]),_:1},8,["has-error"])]),_:1}),o(p,null,{default:t(()=>[o(_,{icon:"feather:lock","has-error":n(r).password[0]},{default:t(()=>[o(g,{type:"password",name:"password",placeholder:a.$t("Password"),autocomplete:"current-password",onInput:f},null,8,["placeholder"]),e("p",ce,l(n(r).password[0]),1)]),_:1},8,["has-error"])]),_:1}),o(p,null,{default:t(()=>[o(_,{class:"setting-item"},{default:t(()=>[o(V,{label:a.$t("Remember_me"),paddingless:""},null,8,["label"])]),_:1})]),_:1}),e("div",ie,[o(C,{loading:c.value,color:"primary",type:"submit",bold:"",fullwidth:"",raised:""},{default:t(()=>[O(l(a.$t("Sign_In")),1)]),_:1},8,["loading"])])])],40,ne)])])])])])])])])]),_:1})}}});export{_e as default};
