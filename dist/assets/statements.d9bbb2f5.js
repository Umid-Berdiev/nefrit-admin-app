import{_ as E,a as I}from"./VFlexTable.d90507e4.js";import{_ as O}from"./VFlexPagination.02f75ec8.js";import{_ as U}from"./VIconButton.7696558d.js";import{_ as A}from"./VTag.74abb8c3.js";import{_ as G}from"./StatusTag.8b382d6b.js";import{_ as J}from"./VPlaceholderSection.e1f47c6a.js";import{_ as K}from"./VFlexTableToolbar.4957e235.js";import{z as L,V as Q,bP as X,r as b,Y as Z,e as V,bO as Y,B as tt,p as et,o as l,i as p,q as e,w as a,E as n,G as w,x as $,bn as D,l as k,t as m,f as h,m as at,v as nt,j as ot,a1 as st,$ as lt,P as rt,a0 as it}from"./index.38c372dc.js";import{l as _t}from"./lodash.89b0082e.js";import{a as ct}from"./index.7c5d080b.js";import{u as pt}from"./viewWrapper.3aa9d6d6.js";const dt={class:"applicant-list-wrapper"},mt=ot("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),ut={key:0,class:"flex-list-inner"},gt={key:0},ft={key:1},yt={key:2},kt={key:4},Ft=L({setup(ht){const{t:o,locale:P}=Q();X({title:o("Statements")+" - Nefrit"}),pt().setPageTitle(o("Statements"));const r=b({pagination:{current_page:1,per_page:10,total:10},result:[]}),M=Z(),g=V({get:()=>r.pagination.current_page,set:async t=>{await f(t)}}),S=b({type:"string",mask:"YYYY-MM-DD"}),d=V({get:()=>({start:Y().subtract(1,"month").format("YYYY-MM-DD"),end:Y().format("YYYY-MM-DD")}),set:async t=>{console.log({val:t}),_t.exports.isEmpty(t)||await f(1,{date_start:t.start,date_end:t.end})}}),T={code:{label:o("statement_code")},legal_entity:{label:o("applied_legal_entity")},drug:{label:o("drug_name")},status:o("Status"),stage:{label:o("Stage")},is_paid:{label:o("Payment_status")},date:{label:o("applied_at")},actions:{label:o("Actions"),align:"center"}};tt(async()=>{await f(1,{date_start:d.value.start,date_end:d.value.end})});async function f(t=1,c={date_start:"",date_end:""}){const u=await ct(t,c);Object.assign(r,u)}function x(t){console.log({rowId:t}),M.push("/app/statements/"+t)}return(t,c)=>{const u=st,y=lt,C=rt,B=it,N=et("VDatePicker"),v=K,F=J,H=G,W=A,R=U,j=E,q=O,z=I;return l(),p("div",dt,[e(z,{columns:n(T),data:n(r).result,limit:n(r).pagination.per_page,total:n(r).pagination.total},{default:a(Vt=>[e(v,null,{left:a(()=>[e(N,{locale:n(P),class:"ml-auto",modelValue:n(d),"onUpdate:modelValue":c[0]||(c[0]=i=>w(d)?d.value=i:null),"is-range":"",color:"green","trim-weeks":"","model-config":n(S)},{default:a(({inputValue:i,inputEvents:s})=>[e(B,{addons:""},{default:a(()=>[e(y,{expanded:"",icon:"feather:corner-down-right"},{default:a(()=>[e(u,$({value:i.start},D(s.start)),null,16,["value"])]),_:2},1024),e(y,null,{default:a(()=>[e(C,{static:""},{default:a(()=>[mt]),_:1})]),_:1}),e(y,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:a(()=>[e(u,$({value:i.end},D(s.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(j,{rounded:""},{body:a(()=>[n(r).result.length===0?(l(),p("div",ut,[e(F,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):k("",!0)]),"body-cell":a(({row:i,column:s,value:_,index:Yt})=>[s.key==="legal_entity"?(l(),p("span",gt,m(_?.name),1)):s.key==="drug"?(l(),p("span",ft,m(_?.name),1)):s.key==="date"&&_?(l(),p("span",yt,m(t.$h.formatDate(_,"HH:mm DD.MM.YYYY")),1)):s.key==="status"?(l(),h(H,{key:3,status:_},null,8,["status"])):s.key==="stage"?(l(),p("span",kt,m(_.name),1)):s.key==="is_paid"?(l(),h(W,{key:5,class:"is-size-6",color:_?"primary":"warning",rounded:"",label:_?t.$t("Paid"):t.$t("Not_Paid")},null,8,["color","label"])):k("",!0),s.key==="actions"?(l(),h(R,{key:6,class:"p-4",outlined:"",circle:"",color:"info",icon:"feather:eye",onClick:nt(wt=>x(i.id),["prevent"])},{default:a(()=>[at(m(t.$t("View")),1)]),_:2},1032,["onClick"])):k("",!0)]),_:1}),e(q,{class:"mt-6","current-page":n(g),"onUpdate:current-page":c[1]||(c[1]=i=>w(g)?g.value=i:null),"item-per-page":n(r).pagination.per_page,"total-items":n(r).pagination.total},null,8,["current-page","item-per-page","total-items"])]),_:1},8,["columns","data","limit","total"])])}}});export{Ft as default};
