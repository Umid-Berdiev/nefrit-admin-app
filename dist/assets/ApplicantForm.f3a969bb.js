import{_ as oe}from"./ConfirmActionModal.dc1a3c08.js";import{_ as se}from"./VTag.97e5d79c.js";import{_ as ae}from"./VCheckbox.a095a4ed.js";import{_ as E}from"./VTextarea.61bc0f20.js";import{_ as z}from"./VField.17e54227.js";import{_ as T,a as le}from"./VControl.068ba628.js";import{_ as ne}from"./VBlock.e6b4ff4a.js";import{K as H,r as $,m as O,p as c,q as f,s as l,y as e,f as s,M as t,D as n,H as j,C as V,V as K,U as ie,o as de,E as ce,x as S,B as v}from"./index.f060b7c6.js";import{u as L}from"./vue-i18n.runtime.esm-bundler.1634ed66.js";import{d as re,b as ue,u as Y,v as me,e as _e}from"./index.acac9876.js";import{_ as pe,u as fe}from"./VModal.7c3df6a9.js";import{_ as be}from"./CountrySelect.482e4695.js";import{u as he}from"./useNotyf.14aeb83f.js";const ve=["onSubmit"],ke={class:"columns is-multiline"},ye={class:"column is-12"},Ve={class:"help has-text-danger"},ge=H({props:{modelValue:Boolean,itemId:{type:Number,default:null}},emits:["update:modelValue","update:list"],setup(q,{emit:k}){const I=q,{t:N}=L();let A=$(N("Block_applicant"));const p=$(""),o=O({block_reason:""});async function m(r){try{await re(I.itemId,{block_reason:p.value}),k("update:list"),u()}catch(b){Object.assign(o,b.response?.data?.errors)}}function u(){p.value="",Object.assign(o,{block_reason:""}),k("update:modelValue",!1)}function _(r){o[r.target.name]=""}return(r,b)=>{const C=E,x=T,w=z,F=K,D=pe;return c(),f(D,{open:q.modelValue,size:"large",title:t(A),actions:"right",onClose:u},{content:l(()=>[e("form",{id:"block-applicant-form",class:"modal-form",onSubmit:j(m,["prevent"])},[e("div",ke,[e("div",ye,[s(w,{label:r.$t("block_reason"),required:""},{default:l(()=>[s(x,{"has-error":t(o).block_reason[0]},{default:l(()=>[s(C,{name:"block_reason",placeholder:r.$t("Add_text"),modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=U=>p.value=U),onInput:_},null,8,["placeholder","modelValue"]),e("p",Ve,n(t(o).block_reason[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,ve)]),action:l(({close:U})=>[s(F,{color:"danger",outlined:"",type:"submit",form:"block-applicant-form"},{default:l(()=>[V(n(r.$t("Block")),1)]),_:1})]),_:1},8,["open","title"])}}});const $e={class:"form-layout is-separate"},Ce={class:"form-outer"},xe={class:"form-body"},we=["onSubmit"],Be={class:"form-section-inner has-padding-bottom"},Se={class:"has-text-centered"},Ae={class:"columns is-multiline"},Ue={class:"column is-12 mb-3"},Me={class:"help has-text-danger"},qe={class:"column is-12 mb-3"},Ne={class:"help has-text-danger"},Fe={class:"column is-12 mb-3"},De={class:"help has-text-danger"},Oe={class:"column is-12 mb-3"},je={class:"help has-text-danger"},Ie={class:"column is-12 is-flex"},Ye=["onSubmit"],Ee={class:"form-section-inner has-padding-bottom"},ze={class:"has-text-centered"},Te={class:"columns is-multiline"},He={class:"column is-12 mb-3"},Ke={class:"help has-text-danger"},Le={class:"column is-6 mb-3"},Re={class:"help has-text-danger"},We={class:"column is-6 mb-3"},Ge={class:"column is-6 mb-3"},Je={class:"column is-12 mb-3"},Pe={class:"help has-text-danger"},Qe={class:"column is-12"},Xe={class:"column is-12 is-flex"},Ze={class:"form-section"},et={class:"form-section-inner has-padding-bottom"},tt={class:"has-text-centered"},ot={class:"columns is-multiline"},st={class:"column is-12 mb-3"},at={class:"table is-hoverable is-bordered is-fullwidth"},lt={key:0},nt={class:"has-text-weight-bold"},it={class:"name dark-inverted"},dt={key:1},ct={class:"has-text-weight-bold"},rt={class:"name dark-inverted"},ut=["textContent"],mt={key:2},_t={class:"has-text-weight-bold"},pt={class:"name dark-inverted"},ft=["textContent"],bt={key:3},ht={class:"has-text-weight-bold"},vt={class:"name dark-inverted"},kt=["textContent"],Nt=H({setup(q){const{t:k,locale:I}=L(),N=ie(),A=fe(),p=N.params?.id??"",o=O({}),m=$(!1),u=$(!1),_=O({boss_name:"",phone:"",fax:"",website:"",email:"",name:"",country:"",address:"",is_national:""}),r=$(!1),b=he(),C=$(!1),x=$(Function);de(async()=>{await w()});async function w(){const i=await ue(Number(p));Object.assign(o,i)}async function F(i){try{r.value=!0;const a=await Y(Number(p),o);Object.assign(o,a),m.value=!1,b.dismissAll(),b.success(k("Updated_successfully"))}catch(a){Object.assign(_,a.response?.data?.errors)}finally{r.value=!1}}async function D(i){try{r.value=!0;const a=await Y(Number(p),o);Object.assign(o,a),u.value=!1,b.dismissAll(),b.success(k("Updated_successfully"))}catch(a){Object.assign(_,a.response?.data?.errors)}finally{r.value=!1}}async function U(){await x.value(Number(p)),await w()}async function R(){x.value=me,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}function W(){m.value=!m.value}function G(){u.value=!u.value}function J(){C.value=!0}async function P(){x.value=_e,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}return(i,a)=>{const B=K,Q=ne,M=ce("VueIconify"),g=le,h=T,y=z,X=E,Z=ae,ee=se,te=oe;return c(),S("div",null,[e("div",$e,[s(Q,{title:"",center:""},{action:l(()=>[t(o).blocked_at?v("",!0):(c(),f(B,{key:0,type:"button",class:"mr-3",outlined:"",color:"danger",icon:"fas fa-ban",onClick:J},{default:l(()=>[V(n(i.$t("Block")),1)]),_:1})),t(o).blocked_at?(c(),f(B,{key:1,type:"button",class:"mr-3",outlined:"",color:"warning",icon:"fas fa-ban",onClick:P},{default:l(()=>[V(n(i.$t("Unblock")),1)]),_:1})):v("",!0),t(o).verified_at?v("",!0):(c(),f(B,{key:2,type:"button",class:"mr-3",outlined:"",color:"primary",icon:"fas fa-check-double",onClick:R},{default:l(()=>[V(n(i.$t("Verify")),1)]),_:1}))]),_:1}),e("div",Ce,[e("div",xe,[e("form",{id:"first-block-form",class:"form-section",onSubmit:j(F,["prevent"])},[e("div",Be,[e("h3",Se,[V(n(t(k)("Applicant_details"))+" ",1),e("a",{href:"javascript:;",onClick:W,class:"edit-btn ml-5"},[m.value?(c(),f(M,{key:1,icon:"feather:x"})):(c(),f(M,{key:0,icon:"feather:edit-2"}))])]),e("div",Ae,[e("div",Ue,[s(y,{required:"",label:i.$t("Boss_name")},{default:l(()=>[s(h,{icon:"feather:user"},{default:l(()=>[s(g,{disabled:!m.value,type:"text",name:"boss_name",modelValue:t(o).boss_name,"onUpdate:modelValue":a[0]||(a[0]=d=>t(o).boss_name=d),placeholder:"",autocomplete:"boss-name"},null,8,["disabled","modelValue"]),e("p",Me,n(t(_).boss_name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",qe,[s(y,{required:"",label:i.$t("Applicant_phone_number")},{default:l(()=>[s(h,{icon:"feather:phone",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"tel",name:"phone",modelValue:t(o).phone,"onUpdate:modelValue":a[1]||(a[1]=d=>t(o).phone=d),autocomplete:"applicant-name"},null,8,["disabled","modelValue"]),e("p",Ne,n(t(_).phone[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Fe,[s(y,{required:"",label:i.$t("Website")},{default:l(()=>[s(h,{icon:"feather:globe",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"text",name:"website",modelValue:t(o).website,"onUpdate:modelValue":a[2]||(a[2]=d=>t(o).website=d),autocomplete:"website-name"},null,8,["disabled","modelValue"]),e("p",De,n(t(_).website[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Oe,[s(y,{required:"",label:i.$t("Email_address")},{default:l(()=>[s(h,{icon:"feather:mail",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"email",name:"email",modelValue:t(o).email,"onUpdate:modelValue":a[3]||(a[3]=d=>t(o).email=d),autocomplete:"email",inputmode:"email"},null,8,["disabled","modelValue"]),e("p",je,n(t(_).email[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Ie,[m.value?(c(),f(B,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"first-block-form"},{default:l(()=>[V(n(i.$t("Save")),1)]),_:1},8,["loading"])):v("",!0)])])])],40,we),e("form",{id:"second-block-form",class:"form-section",onSubmit:j(D,["prevent"])},[e("div",Ee,[e("h3",ze,[V(n(t(k)("Company_information"))+" ",1),e("a",{href:"javascript:;",onClick:G,class:"edit-btn ml-5"},[u.value?(c(),f(M,{key:1,icon:"feather:x"})):(c(),f(M,{key:0,icon:"feather:edit-2"}))])]),e("div",Te,[e("div",He,[s(y,{required:"",label:i.$t("Company_name")},{default:l(()=>[s(h,{icon:"feather:briefcase",required:""},{default:l(()=>[s(g,{disabled:!u.value,modelValue:t(o).name,"onUpdate:modelValue":a[4]||(a[4]=d=>t(o).name=d),autocomplete:"company_name"},null,8,["disabled","modelValue"]),e("p",Ke,n(t(_).name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Le,[s(y,{label:i.$t("Company_fax")},{default:l(()=>[s(h,{icon:"feather:printer",required:""},{default:l(()=>[s(g,{disabled:!u.value,modelValue:t(o).fax,"onUpdate:modelValue":a[5]||(a[5]=d=>t(o).fax=d),autocomplete:"tel",inputmode:"tel"},null,8,["disabled","modelValue"]),e("p",Re,n(t(_).fax[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",We,[s(be,{disabled:!u.value,modelValue:t(o).country,"onUpdate:modelValue":a[6]||(a[6]=d=>t(o).country=d),required:""},null,8,["disabled","modelValue"])]),e("div",Ge,[s(y,{label:i.$t("stir")},{default:l(()=>[s(h,{icon:"fas fa-hashtag"},{default:l(()=>[s(g,{disabled:"",value:t(o).inn},null,8,["value"])]),_:1})]),_:1},8,["label"])]),e("div",Je,[s(y,{required:"",label:i.$t("Address")},{default:l(()=>[s(h,null,{default:l(()=>[s(X,{modelValue:t(o).address,"onUpdate:modelValue":a[7]||(a[7]=d=>t(o).address=d),rows:2},null,8,["modelValue"]),e("p",Pe,n(t(_).address[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Qe,[s(h,{raw:"",subcontrol:""},{default:l(()=>[s(Z,{class:"pl-1",modelValue:t(o).is_national,"onUpdate:modelValue":a[8]||(a[8]=d=>t(o).is_national=d),label:i.$t("isNational"),color:"primary","true-value":1,"false-value":0,disabled:!u.value},null,8,["modelValue","label","disabled"])]),_:1})]),e("div",Xe,[u.value?(c(),f(B,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"second-block-form"},{default:l(()=>[V(n(i.$t("Save")),1)]),_:1},8,["loading"])):v("",!0)])])])],40,Ye),e("div",Ze,[e("div",et,[e("h3",tt,n(t(k)("Applicant_status")),1),e("div",ot,[e("div",st,[e("table",at,[e("tbody",null,[t(o).status?(c(),S("tr",lt,[e("td",nt,[e("div",it,n(i.$t("Status")),1)]),e("td",null,[s(ee,{color:t(o).status.color,rounded:"",textContent:n(t(o).status?.name)},null,8,["color","textContent"])])])):v("",!0),t(o).verified_at?(c(),S("tr",dt,[e("td",ct,[e("div",rt,n(i.$t("verified_at")),1)]),e("td",null,[e("span",{class:"has-text-primary is-size-6",textContent:n(i.$h.formatDate(t(o).verified_at,"DD.MM.YYYY"))},null,8,ut)])])):v("",!0),t(o).block_reason?(c(),S("tr",mt,[e("td",_t,[e("div",pt,n(i.$t("block_reason")),1)]),e("td",null,[e("span",{color:"danger is-size-6",textContent:n(t(o).block_reason)},null,8,ft)])])):v("",!0),t(o).blocked_at?(c(),S("tr",bt,[e("td",ht,[e("div",vt,n(i.$t("blocked_at")),1)]),e("td",null,[e("span",{class:"has-text-danger is-size-6",textContent:n(i.$h.formatDate(t(o).blocked_at,"DD.MM.YYYY"))},null,8,kt)])])):v("",!0)])])])])])])])])]),s(te,{onConfirmAction:U}),s(ge,{modelValue:C.value,"onUpdate:modelValue":a[9]||(a[9]=d=>C.value=d),"item-id":Number(t(p)),"onUpdate:list":w},null,8,["modelValue","item-id"])])}}});export{Nt as _};
