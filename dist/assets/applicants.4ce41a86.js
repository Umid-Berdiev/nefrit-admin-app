import{_ as q,a as I}from"./VFlexTable.vue_vue_type_style_index_0_lang.e91991ed.js";import{_ as O}from"./VFlexPagination.6f519b0d.js";import{_ as Q}from"./ApplicantFlexTableDropdown.vue_vue_type_script_setup_true_lang.7c400bb9.js";import{_ as U}from"./StatusTag.vue_vue_type_script_setup_true_lang.412edb66.js";import{_ as E}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.fc527a37.js";import{f as G,_ as z}from"./index.6e2ea0dc.js";import{A as J,O as K,$ as L,P as X,r as w,f as k,bQ as V,C as Z,q as tt,o as l,j as d,s as e,w as n,G as a,H as x,y as Y,bn as $,t as b,m as p,g as h,k as et,a5 as at,a3 as nt,Q as ot,a4 as st}from"./index.bb4908f5.js";import{l as rt}from"./lodash.e3ec61d9.js";import{u as lt}from"./viewWrapper.337e6d03.js";import"./VFlex.vue_vue_type_style_index_0_lang.2810b5dd.js";import"./VDropdown.vue_vue_type_style_index_0_lang.c6874a9c.js";import"./VIcon.vue_vue_type_script_setup_true_lang.654e5aba.js";import"./VTag.vue_vue_type_script_setup_true_lang.eb71c5fe.js";const it={class:"applicant-list-wrapper"},ct=et("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),pt=["textContent"],_t={key:0,class:"flex-list-inner"},ut={key:0,style:{"overflow-wrap":"break-word"}},mt={key:2},At=J({setup(dt){const{t:r,locale:C}=K(),D=L();X({title:r("Applicant_report")+" - Nefrit"}),lt().setPageTitle(r("Applicant_report"));const s=w({pagination:{current_page:1,per_page:10,total:10},result:[]}),f=k({get:()=>s.pagination.current_page,set:async t=>{await g(t)}}),v=w({type:"string",mask:"YYYY-MM-DD"}),u=k({get:()=>({start:V().subtract(1,"month").format("YYYY-MM-DD"),end:V().format("YYYY-MM-DD")}),set:async t=>{rt.exports.isEmpty(t)||await g(1,{date_start:t.start,date_end:t.end})}}),P={orderNumber:{format:(t,i,_)=>`${_+1}`,cellClass:"is-flex-grow-0"},name:{label:r("Applicant_name"),grow:!0},boss_name:{label:r("Boss_name")},phone:{label:r("Phone_number")},status:{label:r("Status")},country:{label:r("Country")},actions:{label:r("Actions"),align:"center"}};Z(async()=>{await g(1,{date_start:u.value.start,date_end:u.value.end})});async function g(t=1,i={date_start:"",date_end:""}){const _=await G({page:t,...i});Object.assign(s,_)}function M(t){D.push("/app/applicants/"+t)}return(t,i)=>{const _=at,y=nt,T=ot,A=st,N=tt("VDatePicker"),B=z,F=E,S=U,W=Q,H=q,R=O,j=I;return l(),d("div",it,[e(j,{columns:a(P),data:a(s).result,limit:a(s).pagination.per_page,total:a(s).pagination.total},{default:n(gt=>[e(B,null,{left:n(()=>[e(N,{locale:a(C),class:"ml-auto",modelValue:a(u),"onUpdate:modelValue":i[0]||(i[0]=o=>x(u)?u.value=o:null),"is-range":"",color:"green","trim-weeks":"","model-config":a(v)},{default:n(({inputValue:o,inputEvents:c})=>[e(A,{addons:""},{default:n(()=>[e(y,{expanded:"",icon:"feather:corner-down-right"},{default:n(()=>[e(_,Y({value:o.start},$(c.start)),null,16,["value"])]),_:2},1024),e(y,null,{default:n(()=>[e(T,{static:""},{default:n(()=>[ct]),_:1})]),_:1}),e(y,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:n(()=>[e(_,Y({value:o.end},$(c.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(H,{rounded:""},{"header-column":n(({column:o})=>[o.key==="orderNumber"?(l(),d("span",{key:0,class:"is-flex-grow-0",textContent:b("#")},null,8,pt)):p("",!0)]),body:n(()=>[a(s).result.length===0?(l(),d("div",_t,[e(F,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):p("",!0)]),"body-cell":n(({row:o,column:c,value:m,index:yt})=>[c.key==="name"?(l(),d("p",ut,b(m),1)):p("",!0),c.key==="status"&&m?(l(),h(S,{key:1,status:m},null,8,["status"])):p("",!0),c.key==="country"&&m?(l(),d("span",mt,b(m.name),1)):p("",!0),c.key==="actions"?(l(),h(W,{key:3,onView:bt=>M(o.id)},null,8,["onView"])):p("",!0)]),_:1}),a(s).result.length?(l(),h(R,{key:0,class:"mt-6","current-page":a(f),"onUpdate:current-page":i[1]||(i[1]=o=>x(f)?f.value=o:null),"item-per-page":a(s).pagination.per_page,"total-items":a(s).pagination.total},null,8,["current-page","item-per-page","total-items"])):p("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{At as default};
