import{_ as A,a as O}from"./VFlexTable.vue_vue_type_style_index_0_lang.e91991ed.js";import{_ as Q}from"./VFlexPagination.6f519b0d.js";import{_ as z}from"./VIconButton.vue_vue_type_script_lang.5a82fe48.js";import{_ as E}from"./VTag.vue_vue_type_script_setup_true_lang.eb71c5fe.js";import{_ as G}from"./StatusTag.vue_vue_type_script_setup_true_lang.412edb66.js";import{_ as J}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.fc527a37.js";import{c as K,_ as L}from"./index.6e2ea0dc.js";import{A as X,$ as Z,O as tt,a as et,P as at,r as b,f as V,bQ as w,C as ot,q as nt,o as l,j as d,s as e,w as o,G as a,H as Y,y as $,bn as D,m,t as g,g as f,p as st,x as rt,k as lt,bP as it,a5 as ct,a3 as _t,Q as pt,a4 as dt}from"./index.bb4908f5.js";import{l as ut}from"./lodash.e3ec61d9.js";import{u as mt}from"./viewWrapper.337e6d03.js";import"./VFlex.vue_vue_type_style_index_0_lang.2810b5dd.js";const gt={class:"applicant-list-wrapper"},ft=lt("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),yt={key:0,class:"flex-list-inner"},ht={key:0},kt={key:1},bt={key:3},It=X({setup(Vt){const P=Z(),{t:n,locale:M}=tt(),{userRoleID:S}=et();at({title:n("Statement_report")+" - Nefrit"}),mt().setPageTitle(n("Statement_report"));const s=b({pagination:{current_page:1,per_page:10,total:10},result:[]}),y=V({get:()=>s.pagination.current_page,set:async t=>{await h(t)}}),C=b({type:"string",mask:"YYYY-MM-DD"}),p=V({get:()=>({start:w().subtract(1,"month").format("YYYY-MM-DD"),end:w().format("YYYY-MM-DD")}),set:async t=>{ut.exports.isEmpty(t)||await h(1,{date_start:t.start,date_end:t.end})}}),T={code:{label:n("statement_code")},drug:{label:n("drug_name")},status:n("Status"),stage:{label:n("Stage")},is_paid:{label:n("Payment_status")},date:{label:n("applied_at")},actions:{label:n("Actions"),align:"center"}};ot(async()=>{await h(1,{date_start:p.value.start,date_end:p.value.end})});async function h(t=1,i={date_start:"",date_end:""}){const u=await K({page:t,...i});Object.assign(s,u)}function x(t){const i=it.gotoStatementPage(t,S);P.push(i)}return(t,i)=>{const u=ct,k=_t,v=pt,N=dt,B=nt("VDatePicker"),F=L,H=J,I=G,R=E,W=z,U=A,j=Q,q=O;return l(),d("div",gt,[e(q,{columns:a(T),data:a(s).result,limit:a(s).pagination.per_page,total:a(s).pagination.total},{default:o(Yt=>[e(F,null,{left:o(()=>[e(B,{locale:a(M),class:"ml-auto",modelValue:a(p),"onUpdate:modelValue":i[0]||(i[0]=c=>Y(p)?p.value=c:null),"is-range":"",color:"green","trim-weeks":"","model-config":a(C)},{default:o(({inputValue:c,inputEvents:r})=>[e(N,{addons:""},{default:o(()=>[e(k,{expanded:"",icon:"feather:corner-down-right"},{default:o(()=>[e(u,$({value:c.start},D(r.start)),null,16,["value"])]),_:2},1024),e(k,null,{default:o(()=>[e(v,{static:""},{default:o(()=>[ft]),_:1})]),_:1}),e(k,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:o(()=>[e(u,$({value:c.end},D(r.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(U,{rounded:""},{body:o(()=>[a(s).result.length===0?(l(),d("div",yt,[e(H,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):m("",!0)]),"body-cell":o(({row:c,column:r,value:_,index:$t})=>[r.key==="drug"?(l(),d("span",ht,g(_?.name),1)):r.key==="date"&&_?(l(),d("span",kt,g(t.$h.formatDate(_,"HH:mm DD.MM.YYYY")),1)):r.key==="status"?(l(),f(I,{key:2,status:_},null,8,["status"])):r.key==="stage"?(l(),d("span",bt,g(_.name),1)):r.key==="is_paid"?(l(),f(R,{key:4,class:"is-size-6",color:_?"primary":"warning",rounded:"",label:_?t.$t("Paid"):t.$t("Not_Paid")},null,8,["color","label"])):m("",!0),r.key==="actions"?(l(),f(W,{key:5,class:"p-4",outlined:"",circle:"",color:"info",icon:"feather:eye",onClick:rt(Dt=>x(c.id),["prevent"])},{default:o(()=>[st(g(t.$t("View")),1)]),_:2},1032,["onClick"])):m("",!0)]),_:1}),a(s).result.length?(l(),f(j,{key:0,class:"mt-6","current-page":a(y),"onUpdate:current-page":i[1]||(i[1]=c=>Y(y)?y.value=c:null),"item-per-page":a(s).pagination.per_page,"total-items":a(s).pagination.total},null,8,["current-page","item-per-page","total-items"])):m("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{It as default};
