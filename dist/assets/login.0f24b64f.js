import{K as I,r as D,a1 as N,a0 as R,U as S,j as U,m as x,bI as B,p as L,q as j,s as a,y as e,f as o,R as E,M as n,D as i,H as v,C as F,v as K,V as T}from"./index.f060b7c6.js";import{_ as q}from"./VCheckbox.a095a4ed.js";import{_ as A}from"./VField.17e54227.js";import{a as H,_ as M}from"./VControl.068ba628.js";import{u as O}from"./vue-i18n.runtime.esm-bundler.1634ed66.js";import{u as P}from"./useNotyf.14aeb83f.js";import{_ as W}from"./LocalesDropdown.2bc34eeb.js";import"./VDropdown.a61ebde9.js";import"./VIcon.a5a02b18.js";import"./useDropdown.191976f8.js";const z={class:"auth-wrapper-inner columns is-gapless"},G={class:"column"},J={class:"hero is-fullheight is-white"},Q={class:"hero-heading"},X=["checked"],Y=e("span",null,null,-1),Z={class:"hero-body"},ee={class:"container"},se={class:"columns"},oe={class:"column is-12"},te={class:"auth-content"},ae={class:"auth-form-wrapper"},ne=["onSubmit"],re={class:"login-form"},ie={class:"help has-text-danger"},le={class:"help has-text-danger"},ce={class:"login"},ye=I({setup(de){const{t:w}=O(),l=D(!1),c=N(),d=R(),b=S(),u=P(),{loginUser:y,isLoggedIn:k}=U(),h=b.query.redirect,r=x({username:"",password:""});k&&d.push({name:"app"});const $=async t=>{try{l.value=!0;const s=Object.fromEntries(new FormData(t.target));await y(s),u.dismissAll(),u.success(`${w("Welcome_back")}, ${s.username?.toUpperCase()}`),h?d.push(h):d.push({name:"app"})}catch(s){Object.assign(r,s.response?.data?.errors),s.response?.data?.errors.message&&u.error(s.response?.data?.errors.message[0])}finally{l.value=!1}};B({title:"Auth Login - Vuero"});function f(t){r[t.target.name]=""}return(t,s)=>{const g=H,_=M,p=A,V=q,C=T;return L(),j(K,{name:"fade-fast",mode:"out-in"},{default:a(()=>[e("div",z,[e("div",G,[e("div",J,[e("div",Q,[o(W),e("label",{class:"dark-mode",tabindex:"0",onKeydown:s[1]||(s[1]=E(v(m=>m.target.click(),["prevent"]),["space"]))},[e("input",{type:"checkbox",checked:!n(c).isDark,onChange:s[0]||(s[0]=(...m)=>n(c).onChange&&n(c).onChange(...m))},null,40,X),Y],32)]),e("div",Z,[e("div",ee,[e("div",se,[e("div",oe,[e("div",te,[e("h2",null,i(t.$t("Welcome_to_NEFRIT")),1),e("p",null,i(t.$t("Please_sign_in_to_your_account")),1)]),e("div",ae,[e("form",{onSubmit:v($,["prevent"])},[e("div",re,[o(p,null,{default:a(()=>[o(_,{icon:"feather:user","has-error":n(r).username[0]},{default:a(()=>[o(g,{type:"text",name:"username",placeholder:t.$t("Username"),autocomplete:"username",onInput:f},null,8,["placeholder"]),e("p",ie,i(n(r).username[0]),1)]),_:1},8,["has-error"])]),_:1}),o(p,null,{default:a(()=>[o(_,{icon:"feather:lock","has-error":n(r).password[0]},{default:a(()=>[o(g,{type:"password",name:"password",placeholder:t.$t("Password"),autocomplete:"current-password",onInput:f},null,8,["placeholder"]),e("p",le,i(n(r).password[0]),1)]),_:1},8,["has-error"])]),_:1}),o(p,null,{default:a(()=>[o(_,{class:"setting-item"},{default:a(()=>[o(V,{label:t.$t("Remember_me"),paddingless:""},null,8,["label"])]),_:1})]),_:1}),e("div",ce,[o(C,{loading:l.value,color:"primary",type:"submit",bold:"",fullwidth:"",raised:""},{default:a(()=>[F(i(t.$t("Sign_In")),1)]),_:1},8,["loading"])])])],40,ne)])])])])])])])])]),_:1})}}});export{ye as default};
