import{_ as Fe}from"./VTabs.c5221529.js";import{_ as Ue}from"./MessagingV1.69e869e0.js";import{_ as se,u as be}from"./VModal.7c3df6a9.js";import{K as j,m as J,r as V,w as oe,p as o,q as I,s as c,Z as Ae,$ as je,y as e,I as de,M as n,t as ne,C as R,D as t,ad as Be,ae as Ye,A as le,f as s,H as O,V as K,U as X,bp as te,x as _,F as T,G as ae,bt as Re,c as ie,B as A,i as $e,Q as ye,o as re,E as ue,bj as ve,bN as ge,af as Te,ag as Oe,R as Pe,bI as Ee}from"./index.f060b7c6.js";import{_ as qe}from"./VTextarea.61bc0f20.js";import{_ as me}from"./VField.17e54227.js";import{u as ze,b as Le,_ as _e,a as We}from"./VControl.068ba628.js";import{u as q}from"./vue-i18n.runtime.esm-bundler.1634ed66.js";import{t as Ge,v as He,w as Ke,x as Qe,y as Ze,z as Je,A as Xe,B as et,C as tt,D as at,E as st,h as nt,F as ot,i as lt}from"./index.fc264705.js";import{_ as Ve}from"./VAvatar.8f6c454e.js";import{_ as we}from"./ConfirmActionModal.dc1a3c08.js";import{a as it,_ as ct,b as dt}from"./ConclusionFormModal.9717891e.js";import{b as pe,_ as ke,a as Ce}from"./VFlexTable.4ba052d2.js";import{_ as Se}from"./VFlexPagination.b3a191bb.js";import{_ as De}from"./VDropdown.a61ebde9.js";import{_ as rt}from"./StatusTag.cb3350f7.js";import{_ as xe}from"./VPlaceholderSection.afc34ed0.js";import{_ as Ne}from"./VFlexItem.3714d147.js";import{u as fe}from"./useNotyf.14aeb83f.js";import{a as ut}from"./index.12530604.js";import{_ as mt}from"./VFileInput.5ba11aca.js";import{_ as _t}from"./ListWidgetSingle.fe2c8b6c.js";import{_ as Me}from"./VTag.97e5d79c.js";import{u as pt}from"./viewWrapper.7134460b.js";import{_ as ft}from"./VIcon.a5a02b18.js";import"./useDropdown.191976f8.js";import"./via-placeholder.9af8280d.js";import"./VOption.3e2cc48c.js";const ht=["id","value","name"],vt=e("span",null,null,-1),gt=j({props:{id:{default:void 0},value:null,modelValue:{default:void 0},name:{default:void 0},label:{default:void 0},color:{default:void 0},square:{type:Boolean},solid:{type:Boolean},paddingless:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(p,{emit:h}){const a=p,m=J(ze({id:a.id,inherit:!1})),d=V(m?.field?.value??a.modelValue);return oe(d,()=>{h("update:modelValue",d.value)}),oe(()=>a.modelValue,()=>{d.value=a.modelValue}),(l,y)=>{const S=Le;return o(),I(S,{raw:"",class:le(["radio",[a.solid?"is-solid":"is-outlined",a.square&&"is-square",a.color&&`is-${a.color}`,a.paddingless&&"is-paddingless"]])},{default:c(()=>[Ae(e("input",de({id:n(m).id,"onUpdate:modelValue":y[0]||(y[0]=u=>d.value=u),type:"radio",value:a.value,name:a.name},l.$attrs),null,16,ht),[[je,d.value]]),vt,ne(l.$slots,"default",Be(Ye(n(m))),()=>[R(t(a.label),1)])]),_:3},8,["class"])}}}),bt=["onSubmit"],$t={class:"columns is-multiline"},yt={class:"column is-12 is-flex is-justify-content-center"},Vt={class:"column is-12"},wt={class:"help has-text-danger"},kt=j({props:{modelValue:{type:Boolean},item:null,selectedAnswer:{default:0},parentId:null},emits:["update:modelValue","update:list"],setup(p,{emit:h}){const a=p,{t:m}=q();let d=V(m("Add_vote"));const l=J({description:"",value:0}),y=J({description:"",vote:""});oe(()=>a.selectedAnswer,r=>{l.value=r},{deep:!0,immediate:!0}),oe(()=>a.item,r=>{r&&(l.description=r.description,l.value=r.value)},{deep:!0,immediate:!0});async function S(){try{const r={description:l.description,value:l.value};await Ge(a.parentId,r),h("update:list"),u()}catch(r){Object.assign(y,r.response?.data?.errors)}}function u(){Object.assign(y,{description:"",value:""}),h("update:modelValue",!1)}function k(r){y[r.target.name]=""}return(r,$)=>{const v=gt,f=_e,w=me,D=qe,B=K,C=se;return o(),I(C,{open:p.modelValue,size:"large",title:n(d),actions:"right",onClose:u},{content:c(()=>[e("form",{id:"feedback-form",class:"modal-form",onSubmit:O(S,["prevent"])},[e("div",$t,[e("div",yt,[s(w,{grouped:""},{default:c(()=>[s(f,null,{default:c(()=>[s(v,{modelValue:n(l).value,"onUpdate:modelValue":$[0]||($[0]=x=>n(l).value=x),value:1,label:r.$t("Accept"),name:"outlined_radio",color:"primary"},null,8,["modelValue","label"])]),_:1})]),_:1}),s(w,{grouped:""},{default:c(()=>[s(f,null,{default:c(()=>[s(v,{modelValue:n(l).value,"onUpdate:modelValue":$[1]||($[1]=x=>n(l).value=x),value:0,label:r.$t("Reject"),name:"outlined_radio",color:"warning"},null,8,["modelValue","label"])]),_:1})]),_:1})]),e("div",Vt,[s(w,{label:r.$t("Comment"),required:""},{default:c(()=>[s(f,{"has-error":n(y).description[0]},{default:c(()=>[s(D,{name:"description",placeholder:r.$t("Add_comment"),modelValue:n(l).description,"onUpdate:modelValue":$[2]||($[2]=x=>n(l).description=x),onInput:k},null,8,["placeholder","modelValue"]),e("p",wt,t(n(y).description[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,bt)]),action:c(({close:x})=>[s(B,{color:"primary",outlined:"",type:"submit",form:"feedback-form"},{default:c(()=>[R(t(r.$t("Save")),1)]),_:1})]),_:1},8,["open","title"])}}});const Ct={class:"container"},St={class:"company-header is-dark-card-bordered is-dark-bg-6"},Dt={class:"header-item is-dark-bordered-12"},xt={class:"item-inner"},Nt={class:"dark-inverted"},Mt={class:"header-item is-dark-bordered-12"},It={class:"item-inner"},Ft={class:"dark-inverted"},Ut={class:"header-item is-dark-bordered-12"},At={class:"item-inner"},jt={class:"dark-inverted"},Bt={class:"header-item is-dark-bordered-12"},Yt={class:"item-inner"},Rt={class:"dark-inverted"},Tt={class:"user-grid user-grid-v1"},Ot={class:"dark-inverted"},Pt={key:0,class:"is-grouped mt-5"},Et={class:"icon"},qt=["data-icon"],zt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})],-1),Lt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})],-1),Wt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"})],-1),Gt={key:0,class:"is-grouped mt-5"},Ht={class:"icon"},Kt=["data-icon"],Qt={key:1,class:"is-grouped mt-5"},Zt=j({async setup(p){let h,a;const m=X();q();const d=m.params?.id??null;V([]);const l=V(!1),y=V(),S=V(),u=V();[h,a]=te(()=>r()),await h,a(),[h,a]=te(()=>$()),await h,a();function k(v){l.value=!0,y.value=v}async function r(){const v=await He(Number(d));S.value=v}async function $(){const v=await Ke(Number(d));u.value=v}return(v,f)=>{const w=Ve,D=K,B=kt;return o(),_("div",Ct,[e("div",St,[e("div",Dt,[e("div",xt,[e("span",Nt,t(u.value?.voted),1),e("p",null,t(v.$t("Total_voted")),1)])]),e("div",Mt,[e("div",It,[e("span",Ft,t(u.value?.agree),1),e("p",null,t(v.$t("Accepted")),1)])]),e("div",Ut,[e("div",At,[e("span",jt,t(u.value?.disagre),1),e("p",null,t(v.$t("Rejected")),1)])]),e("div",Bt,[e("div",Yt,[e("span",Rt,t(u.value?.didnt_vote),1),e("p",null,t(v.$t("Not_voted")),1)])])]),e("div",Tt,[s(Re,{name:"list",tag:"div",class:"columns is-multiline"},{default:c(()=>[(o(!0),_(T,null,ae(S.value,(C,x)=>(o(),_("div",{key:x,class:"column is-4"},[e("div",{class:le(["grid-item",{"is-active":C.is_me}])},[s(w,{picture:C.user?.avatar,size:"xl"},null,8,["picture"]),e("h3",Ot,t(C.user?.firstname+" "+C.user?.lastname),1),e("p",null,t(C.user?.department),1),C.is_me===!0?(o(),_("div",Pt,[C.vote?(o(),_(T,{key:0},[s(D,{color:C.vote.value===1?"success":"danger",style:{width:"80%"},class:"is-justify-content-center mr-3"},{default:c(()=>[e("span",Et,[e("i",{"aria-hidden":"true",class:"iconify","data-icon":C.vote.value===1?"feather:check":"feather:x"},null,8,qt)]),e("span",null,t(C.vote.value===1?v.$t("Accepted"):v.$t("Rejected")),1)]),_:2},1032,["color"]),s(D,{color:"warning",style:{width:"10%"},class:"is-justify-content-center",onClick:f[0]||(f[0]=U=>k(0))},{default:c(()=>[zt]),_:1})],64)):(o(),_(T,{key:1},[s(D,{color:"success",style:{width:"45%"},class:"is-justify-content-center mr-3",onClick:f[1]||(f[1]=U=>k(1))},{default:c(()=>[Lt,e("span",null,t(v.$t("Accept")),1)]),_:1}),s(D,{color:"danger",style:{width:"45%"},class:"is-justify-content-center",onClick:f[2]||(f[2]=U=>k(0))},{default:c(()=>[Wt,e("span",null,t(v.$t("Reject")),1)]),_:1})],64))])):(o(),_(T,{key:1},[C.vote?(o(),_("div",Gt,[s(D,{class:"is-fullwidth is-justify-content-center",color:C.vote.value===1?"success":"danger"},{default:c(()=>[e("span",Ht,[e("i",{"aria-hidden":"true",class:"iconify","data-icon":C.vote.value===1?"feather:check":"feather:x"},null,8,Kt)]),e("span",null,t(C.vote.value===1?v.$t("Accepted"):v.$t("Rejected")),1)]),_:2},1032,["color"])])):(o(),_("div",Qt,[s(D,{class:"is-fullwidth is-justify-content-center",static:""},{default:c(()=>[e("span",null,t(v.$t("Not_voted_yet")),1)]),_:1})]))],64))],2)]))),128))]),_:1})]),s(B,{modelValue:l.value,"onUpdate:modelValue":f[3]||(f[3]=C=>l.value=C),item:S.value?.find(C=>C.is_me)?.vote,"selected-answer":y.value,"parent-id":Number(n(d)),"onUpdate:list":f[4]||(f[4]=()=>{r(),$()})},null,8,["modelValue","item","selected-answer","parent-id"])])}}}),Jt=["onClick"],Xt=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:edit"})],-1),ea={class:"meta"},ta=e("hr",{class:"dropdown-divider"},null,-1),aa=["onClick"],sa=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:trash"})],-1),na={class:"meta"},oa=j({emits:["edit","remove"],setup(p,{emit:h}){return(a,m)=>{const d=De;return o(),I(d,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:c(({close:l})=>[e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:O(()=>{h("edit"),l()},["prevent"])},[Xt,e("div",ea,[e("span",null,t(a.$t("Edit")),1)])],8,Jt),ta,e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:O(()=>{h("remove"),l()},["prevent"])},[sa,e("div",na,[e("span",null,t(a.$t("Remove")),1)])],8,aa)]),_:1})}}}),la={class:"applicant-list-wrapper"},ia={class:"is-size-3 mb-3"},ca=["textContent"],da={key:0,class:"flex-list-inner"},ra={key:0,style:{"white-space":"break-spaces"}},ua=j({async setup(p){let h,a;const m=X(),d=be(),{t:l,locale:y}=q(),S=m.params?.id??null,u=J({pagination:{current_page:1,per_page:10,total:10},result:[]}),k=V(!1),r=V(),$=ie({get:()=>u.pagination.current_page,set:async b=>{await D(b)}}),v=({order:b,a:i,b:g})=>b==="asc"?i.location.localeCompare(g.location):b==="desc"?g.location.localeCompare(i.location):0,f={orderNumber:{format:(b,i,g)=>`${g+1}`,cellClass:"is-flex-grow-0"},message:{label:l("Notice_message"),searchable:!0,sortable:!0,sort:v},text:{label:l("Notice_details")},status:{label:l("Status")},actions:{label:l("Actions"),align:"center"}},w=fe();[h,a]=te(()=>D()),await h,a();async function D(b=1){const i=await Qe(Number(S),b);Object.assign(u,i)}async function B(b){r.value=b,k.value=!0}async function C(b){r.value=b,d.$patch({confirmModalState:!0})}async function x(){await Ze(r.value),D()}function U(){w.success(l("Updated_successfully"))}function N(){r.value=void 0}return(b,i)=>{const g=Ne,P=K,E=pe,G=xe,Q=rt,Z=oa,M=ke,ee=Se,F=Ce,z=it,L=we;return o(),_("div",la,[s(E,{class:"mb-4","flex-wrap":"wrap"},{default:c(()=>[s(g,null,{default:c(()=>[e("h1",ia,t(b.$t("Statement_notices")),1)]),_:1}),s(g,{class:"ml-auto"},{default:c(()=>[s(P,{outlined:"",rounded:"",color:"info",icon:"feather:plus",onClick:i[0]||(i[0]=O(W=>k.value=!0,["prevent"]))},{default:c(()=>[R(t(b.$t("Add")),1)]),_:1})]),_:1})]),_:1}),s(F,{columns:n(f),data:n(u).result,limit:n(u).pagination.per_page,total:n(u).pagination.total},{default:c(W=>[s(M,{rounded:""},{"header-column":c(({column:Y})=>[Y.key==="orderNumber"?(o(),_("span",{key:0,class:"is-flex-grow-0",textContent:t("#")},null,8,ca)):A("",!0)]),body:c(()=>[n(u).result.length===0?(o(),_("div",da,[s(G,{title:b.$t("No_data"),subtitle:b.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):A("",!0)]),"body-cell":c(({row:Y,column:H,value:he})=>[H.key==="text"?(o(),_("div",ra,t(Y.text),1)):H.key==="status"&&he?(o(),I(Q,{key:1,status:he},null,8,["status"])):H.key==="actions"?(o(),I(Z,{key:2,onEdit:Ie=>B(Y.id),onRemove:Ie=>C(Y.id)},null,8,["onEdit","onRemove"])):A("",!0)]),_:1}),n(u).result.length?(o(),I(ee,{key:0,"current-page":n($),"onUpdate:current-page":i[1]||(i[1]=Y=>$e($)?$.value=Y:null),class:"mt-6","item-per-page":n(u).pagination.per_page,"total-items":n(u).pagination.total},null,8,["current-page","item-per-page","total-items"])):A("",!0)]),_:1},8,["columns","data","limit","total"]),s(z,{modelValue:k.value,"onUpdate:modelValue":i[2]||(i[2]=W=>k.value=W),"item-id":r.value,"parent-id":Number(n(S)),"onUpdate:list":i[3]||(i[3]=()=>{D(),U(),N()}),onClose:N},null,8,["modelValue","item-id","parent-id"]),s(L,{onConfirmAction:x})])}}}),ma=["onClick"],_a=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:edit"})],-1),pa={class:"meta"},fa=e("hr",{class:"dropdown-divider"},null,-1),ha=["onClick"],va=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:trash"})],-1),ga={class:"meta"},ba=j({emits:["edit","remove"],setup(p,{emit:h}){return(a,m)=>{const d=De;return o(),I(d,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:c(({close:l})=>[e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:O(()=>{h("edit"),l()},["prevent"])},[_a,e("div",pa,[e("span",null,t(a.$t("Edit")),1)])],8,ma),fa,e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:O(()=>{h("remove"),l()},["prevent"])},[va,e("div",ga,[e("span",null,t(a.$t("Remove")),1)])],8,ha)]),_:1})}}});const $a={class:"applicant-list-wrapper"},ya={class:"is-size-3 mb-3"},Va=["textContent"],wa={key:0,class:"flex-list-inner"},ka={key:1,style:{"white-space":"break-spaces"}},Ca={key:2},Sa={key:3},Da={class:"text-truncate"},xa=["href"],Na=j({async setup(p){let h,a;const m=X(),d=be(),{t:l,locale:y}=q(),S=m.params?.id??null,u=J({pagination:{current_page:1,per_page:10,total:10},result:[]}),k=V(!1),r=V(),$=ie({get:()=>u.pagination.current_page,set:async N=>{await w(N)}}),v={orderNumber:{format:(N,b,i)=>`${i+1}`,cellClass:"is-flex-grow-0"},user:{label:l("Created_by")},text:{label:l("Conclusion_desc"),grow:!0},department:{label:l("Department")},files:{label:l("Files"),grow:!0},actions:{label:l("Actions"),align:"center"}},f=fe();[h,a]=te(()=>w()),await h,a();async function w(N=1){const b=await Je(Number(S),N);Object.assign(u,b)}async function D(N){r.value=N,k.value=!0}async function B(N){r.value=N,d.$patch({confirmModalState:!0})}async function C(){await Xe(r.value),w()}function x(){r.value=void 0}function U(){f.success(l("Updated_successfully"))}return(N,b)=>{const i=Ne,g=K,P=pe,E=xe,G=ba,Q=ke,Z=Se,M=Ce,ee=ct,F=we;return o(),_("div",$a,[s(P,{class:"mb-4","flex-wrap":"wrap"},{default:c(()=>[s(i,null,{default:c(()=>[e("h1",ya,t(N.$t("Statement_conclusions")),1)]),_:1}),s(i,{class:"ml-auto"},{default:c(()=>[s(g,{outlined:"",rounded:"",color:"info",icon:"feather:plus",onClick:b[0]||(b[0]=O(z=>k.value=!0,["prevent"]))},{default:c(()=>[R(t(N.$t("Add")),1)]),_:1})]),_:1})]),_:1}),s(M,{columns:n(v),data:n(u).result,limit:n(u).pagination.per_page,total:n(u).pagination.total},{default:c(z=>[s(Q,{rounded:""},{"header-column":c(({column:L})=>[L.key==="orderNumber"?(o(),_("span",{key:0,class:"is-flex-grow-0",textContent:t("#")},null,8,Va)):A("",!0)]),body:c(()=>[n(u).result.length===0?(o(),_("div",wa,[s(E,{title:N.$t("No_data"),subtitle:N.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):A("",!0)]),"body-cell":c(({row:L,column:W,value:Y})=>[W.key==="user"?(o(),_(T,{key:0},[Y.avatar?(o(),I(Ve,{key:0,picture:Y.avatar,class:"mr-5"},null,8,["picture"])):A("",!0),e("h1",null,t(Y.firstname+" "+Y.lastname),1)],64)):A("",!0),W.key==="text"?(o(),_("div",ka,t(L.text),1)):A("",!0),W.key==="department"?(o(),_("span",Ca,t(Y.name),1)):A("",!0),W.key==="files"?(o(),_("ul",Sa,[(o(!0),_(T,null,ae(Y,H=>(o(),_("li",Da,[e("a",{href:H.file,class:"has-text-primary"},t(H.name),9,xa)]))),256))])):W.key==="actions"?(o(),I(G,{key:4,onEdit:H=>D(L.id),onRemove:H=>B(L.id)},null,8,["onEdit","onRemove"])):A("",!0)]),_:1}),n(u).result.length?(o(),I(Z,{key:0,"current-page":n($),"onUpdate:current-page":b[1]||(b[1]=L=>$e($)?$.value=L:null),class:"mt-6","item-per-page":n(u).pagination.per_page,"total-items":n(u).pagination.total},null,8,["current-page","item-per-page","total-items"])):A("",!0)]),_:1},8,["columns","data","limit","total"]),s(ee,{modelValue:k.value,"onUpdate:modelValue":b[2]||(b[2]=z=>k.value=z),"item-id":r.value,"parent-id":Number(n(S)),"onUpdate:list":b[3]||(b[3]=()=>{w(),U(),x()}),onClose:x},null,8,["modelValue","item-id","parent-id"]),s(F,{onConfirmAction:C})])}}}),Ma=ye(Na,[["__scopeId","data-v-2250186c"]]),Ia=["onSubmit"],Fa={class:"columns is-multiline"},Ua={class:"column is-12"},Aa={class:"help has-text-danger"},ja=j({props:{modelValue:{type:Boolean,default:!1},statementId:null,statementStage:null},emits:["update:modelValue","update:stage","update:data"],setup(p,{emit:h}){const a=p,{t:m,locale:d}=q(),l=V([]),y=J({stage_id:""});let S=V(m("Change_statement_stage"));const u=V(),k=V(!1);re(async()=>{const v=await ut();u.value=a.statementStage,l.value=v});async function r(v){try{k.value=!0,await et(Number(a.statementId),{stage_id:u.value}),h("update:data"),$()}catch(f){Object.assign(y,f.response?.data?.errors)}finally{k.value=!1}}function $(){Object.assign(y,{stage_id:""}),h("update:modelValue",!1)}return(v,f)=>{const w=ue("Multiselect"),D=_e,B=me,C=K,x=se;return o(),I(x,{open:p.modelValue,size:"large",title:n(S),actions:"right",onClose:$},{content:c(()=>[e("form",{id:"statement-stage-form",class:"modal-form",onSubmit:O(r,["prevent"]),style:{"min-height":"200px"}},[e("div",Fa,[e("div",Ua,[s(B,{label:v.$t("Stages")},{default:c(()=>[s(D,null,{default:c(()=>[s(w,{modelValue:u.value,"onUpdate:modelValue":f[0]||(f[0]=U=>u.value=U),options:l.value,placeholder:v.$t("Select_stages"),valueProp:"id",label:"name"},null,8,["modelValue","options","placeholder"]),e("p",Aa,t(n(y).stage_id[0]),1)]),_:1})]),_:1},8,["label"])])])],40,Ia)]),action:c(({close:U})=>[s(C,{loading:k.value,color:"primary",outlined:"",type:"submit",form:"statement-stage-form",disabled:k.value},{default:c(()=>[R(t(v.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["open","title"])}}}),Ba=["onSubmit"],Ya={class:"columns is-multiline"},Ra={class:"column is-12"},Ta={class:"help has-text-danger"},Oa={class:"column is-12"},Pa={class:"help has-text-danger"},Ea={class:"help has-text-danger"},qa={class:"column is-12"},za={class:"help has-text-danger"},La={class:"column is-12"},Wa=j({props:{modelValue:{type:Boolean,default:!1},statementId:{default:""}},emits:["update:modelValue","update:list"],async setup(p,{emit:h}){let a,m;const d=p,{t:l,locale:y}=q(),S=V([]),u=V(""),k=V(""),r=V(""),$=V(""),v=([a,m]=te(()=>tt()),a=await a,m(),a),f=V({input:"DD.MM.YYYY"}),w=J({status_id:"",file:"",number:"",drug_name:"",start_date:"",end_date:"",manufacturer_name:""});let D=V(l("Add_certificate"));async function B(b){try{const i={application_id:d.statementId,file:typeof S.value[0]=="object"?S.value[0]:"",number:u.value,start_date:k.value,end_date:r.value,status_id:$.value},g=new FormData;g.append("application_id",i.application_id),g.append("file",i.file),g.append("number",i.number),g.append("start_date",ge(i.start_date).format("YYYY-MM-DD")),g.append("end_date",ge(i.end_date).format("YYYY-MM-DD")),g.append("status_id",i.status_id),await at(g),C()}catch(i){Object.assign(w,i.response?.data?.errors)}}function C(){$.value="",S.value=[],u.value="",k.value="",r.value="",Object.assign(w,{status_id:"",file:"",number:"",start_date:"",end_date:""}),h("update:modelValue",!1)}function x(b){const i=b.target;w[i.name]=""}function U(b){const i=b.target;S.value=i.files&&[i.files[0]],w.file=""}function N(){S.value=[]}return(b,i)=>{const g=We,P=_e,E=me,G=ue("VDatePicker"),Q=dt,Z=mt,M=K,ee=se;return o(),I(ee,{open:p.modelValue,size:"large",title:n(D),actions:"right",onClose:C},{content:c(()=>[e("form",{id:"certificate-form",class:"modal-form",onSubmit:O(B,["prevent"])},[e("div",Ya,[e("div",Ra,[s(E,{label:b.$t("Certificate_number"),required:""},{default:c(()=>[s(P,{"has-error":n(w).number[0]},{default:c(()=>[s(g,{type:"number",min:0,max:1e8,name:"number",placeholder:b.$t("Add_certificate_number"),modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=F=>u.value=F),onInput:x},null,8,["placeholder","modelValue"]),e("p",Ta,t(n(w).number[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])]),e("div",Oa,[s(pe,{"column-gap":"1rem"},{default:c(()=>[s(G,{locale:n(y),masks:f.value,modelValue:k.value,"onUpdate:modelValue":i[1]||(i[1]=F=>k.value=F),color:"green","trim-weeks":""},{default:c(({inputValue:F,inputEvents:z})=>[s(E,{label:b.$t("Start_date"),required:""},{default:c(()=>[s(P,{icon:"feather:calendar"},{default:c(()=>[s(g,de({value:F},ve(z)),null,16,["value"]),e("p",Pa,t(n(w).start_date[0]),1)]),_:2},1024)]),_:2},1032,["label"])]),_:1},8,["locale","masks","modelValue"]),s(G,{locale:n(y),masks:f.value,modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=F=>r.value=F),color:"green","trim-weeks":""},{default:c(({inputValue:F,inputEvents:z})=>[s(E,{label:b.$t("End_date"),required:""},{default:c(()=>[s(P,{icon:"feather:calendar"},{default:c(()=>[s(g,de({value:F},ve(z)),null,16,["value"]),e("p",Ea,t(n(w).end_date[0]),1)]),_:2},1024)]),_:2},1032,["label"])]),_:1},8,["locale","masks","modelValue"])]),_:1})]),e("div",qa,[s(Q,{name:"status_id",modelValue:$.value,"onUpdate:modelValue":i[3]||(i[3]=F=>$.value=F),list:n(v),"is-required":!0,onChange:x},null,8,["modelValue","list"]),e("p",za,t(n(w).status_id[0]),1)]),e("div",La,[s(Z,{files:S.value,onFileUpload:U,onFileRemove:N,"error-message":n(w).file[0],"remote-files":[]},null,8,["files","error-message"])])])],40,Ba)]),action:c(({close:F})=>[s(M,{color:"primary",outlined:"",type:"submit",form:"certificate-form"},{default:c(()=>[R(t(b.$t("Save")),1)]),_:1})]),_:1},8,["open","title"])}}}),Ga={class:"timeline is-centered"},Ha={class:"timeline-header"},Ka={class:"tag is-medium is-primary"},Qa={class:"timeline-content"},Za={class:"heading"},Ja={class:""},Xa={class:"timeline-content"},es={class:"heading"},ts={class:""},as={class:"timeline-header"},ss={class:"tag is-medium is-info"},ns=j({props:{items:{default:()=>[]},squared:{type:Boolean},colored:{type:Boolean}},setup(p){const h=p;return(a,m)=>(o(),_("div",Ga,[e("header",Ha,[e("span",Ka,t(a.$t("Start")),1)]),(o(!0),_(T,null,ae(h.items,(d,l)=>(o(),_("div",{key:d.id,class:"timeline-item"},[d.key==="stages"?(o(),_(T,{key:0},[e("div",{class:le(["timeline-marker is-icon has-text-dark",[d.date&&"is-primary has-text-white"]])},t(d.stage_number),3),e("div",Qa,[e("span",null,t(d.date&&a.$h.formatDate(d.date,"DD.MM.YYYY")),1),e("p",Za,t(d.stage),1),e("p",Ja,t(d.message),1)])],64)):(o(),_(T,{key:1},[e("div",{class:le(["timeline-marker has-text-dark",[d.date&&"is-primary has-text-white"]])},null,2),e("div",Xa,[e("span",null,t(d.date&&a.$h.formatDate(d.date,"DD.MM.YYYY")),1),e("p",es,t(d.department),1),e("p",ts,t(d.message),1)])],64))]))),128)),e("header",as,[e("span",ss,t(a.$t("End")),1)])]))}}),os={class:"table is-hoverable is-fullwidth is-bordered"},ls={class:"has-text-weight-bold"},is={class:"has-text-weight-bold"},cs={class:"has-text-weight-bold"},ds={class:"has-text-weight-bold"},rs={class:"has-text-weight-bold"},us={class:"has-text-weight-bold"},ms={key:0},_s={class:"has-text-weight-bold"},ps=j({props:{modelValue:Boolean,id:Number,companyData:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(p,{emit:h}){const{t:a}=q(),m={name:{label:a("Company_name")},phone:{label:a("Phone_number")},bossName:{label:a("Boss_name")},website:a("Website"),stir:a("stir"),status:a("Status"),country:a("Country"),certificate:a("Certificate")};return(d,l)=>{const y=se;return o(),I(y,{open:p.modelValue,title:d.$t("Company_info"),actions:"right",onClose:l[0]||(l[0]=S=>h("update:modelValue",!1)),"cancel-label":d.$t("Close")},{content:c(()=>[e("table",os,[e("tbody",null,[e("tr",null,[e("td",ls,t(n(m).name.label),1),e("td",null,t(p.companyData?.name),1)]),e("tr",null,[e("td",is,t(n(m).phone.label),1),e("td",null,t(p.companyData?.phone),1)]),e("tr",null,[e("td",cs,t(n(m).bossName.label),1),e("td",null,t(p.companyData?.boss_name),1)]),e("tr",null,[e("td",ds,t(n(m).website),1),e("td",null,t(p.companyData?.website),1)]),e("tr",null,[e("td",rs,t(n(m).stir),1),e("td",null,t(p.companyData?.inn),1)]),e("tr",null,[e("td",us,t(n(m).status),1),p.companyData?.status?(o(),_("td",ms,[s(Me,{class:"is-size-7",rounded:"",color:p.companyData?.status?.color},{default:c(()=>[R(t(p.companyData?.status?.name),1)]),_:1},8,["color"])])):A("",!0)]),e("tr",null,[e("td",_s,t(n(m).country),1),e("td",null,t(p.companyData?.country),1)])])])]),_:1},8,["open","title","cancel-label"])}}}),fs={class:"table is-hoverable is-bordered is-fullwidth"},hs={class:"has-text-weight-bold"},vs={class:"has-text-weight-bold"},gs={class:"has-text-weight-bold"},bs={class:"has-text-weight-bold"},$s={class:"has-text-weight-bold"},ys={class:"has-text-weight-bold"},Vs={class:"has-text-weight-bold"},ws={class:"has-text-weight-bold"},ks=j({props:{modelValue:Boolean,id:Number,drugData:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(p,{emit:h}){const{t:a}=q(),m={name:{label:a("Drug_name")},saleName:{label:a("Sale_name")},composition:{label:a("Composition")},drugForm:a("Drug_form"),patentNumber:a("Patent_number"),use:a("Use"),producer:a("Producer"),manufacturer:a("Manufacturer")};return(d,l)=>{const y=se;return o(),I(y,{open:p.modelValue,title:d.$t("Drug_details"),actions:"right",onClose:l[0]||(l[0]=S=>h("update:modelValue",!1)),"cancel-label":d.$t("Close")},{content:c(()=>[e("table",fs,[e("tbody",null,[e("tr",null,[e("td",hs,t(n(m).name.label),1),e("td",null,t(p.drugData?.name),1)]),e("tr",null,[e("td",vs,t(n(m).saleName.label),1),e("td",null,t(p.drugData?.trade_name),1)]),e("tr",null,[e("td",gs,t(n(m).composition.label),1),e("td",null,t(p.drugData?.structure),1)]),e("tr",null,[e("td",bs,t(n(m).drugForm),1),e("td",null,t(p.drugData?.drug_figure),1)]),e("tr",null,[e("td",$s,t(n(m).patentNumber),1),e("td",null,t(p.drugData?.patent),1)]),e("tr",null,[e("td",ys,t(n(m).use),1),e("td",null,t(p.drugData?.usage),1)]),e("tr",null,[e("td",Vs,t(n(m).producer),1),e("td",null,t(p.drugData?.preparer.name),1)]),e("tr",null,[e("td",ws,t(n(m).manufacturer),1),e("td",null,t(p.drugData?.manufacturer.name),1)])])])]),_:1},8,["open","title","cancel-label"])}}});const ce=p=>(Te("data-v-f40faa40"),p=p(),Oe(),p),Cs={class:"columns mt-5"},Ss={class:"column is-6"},Ds={class:"table is-hoverable is-bordered is-fullwidth"},xs={class:"has-text-weight-bold"},Ns=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Ms={class:"has-text-weight-bold"},Is=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Fs={class:"has-text-weight-bold"},Us={class:"has-text-weight-bold"},As={class:"is-flex is-align-items-center"},js={class:"mr-3"},Bs={class:"has-text-weight-bold"},Ys={class:"has-text-weight-bold"},Rs={class:"has-text-weight-bold"},Ts=["href"],Os=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Ps={key:1,class:"has-text-danger"},Es={class:"has-text-weight-bold"},qs={class:"is-flex is-align-items-center"},zs=["href"],Ls=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Ws={key:1,class:"has-text-danger"},Gs={class:"column is-6"},Hs=j({setup(p){const h=X(),{t:a,locale:m}=q(),d=fe(),l={company:{label:a("Applied_legal_entity")},drug:{label:a("Drug_name")},statementCreator:{label:a("Statement_creator")},stage:{label:a("Stage")},date:{label:a("applied_at")},paymentStatus:{label:a("Payment_status")},contract:{label:a("Contract")},certificate:{label:a("Certificate")}};V(!1);const y=V(),S=V(),u=V(!1),k=V(!1),r=V(!1),$=V(!1),v=h.params?.id??null,f=V(),w=ie(()=>f.value?.stage.id),D=V(),B=V(!1);re(async()=>{await U(),await N()});function C(i){y.value=i,u.value=!0}function x(i){S.value=i,k.value=!0}async function U(){const i=await st(Number(v));f.value=i;const g=await nt(Number(v));D.value=g}async function N(){const i=await ot(Number(v));B.value=i.result}function b(){d.success(a("Success"))}return(i,g)=>{const P=Me,E=_t,G=ns,Q=Wa,Z=ja;return o(),_("div",Cs,[e("div",Ss,[s(E,{title:i.$t("Statement_details"),straight:"",class:"list-widget-v3"},{default:c(()=>[e("table",Ds,[e("tbody",null,[e("tr",null,[e("td",xs,t(n(l).company.label),1),e("td",null,[e("a",{href:"javascript:;",class:"has-text-primary",onClick:g[0]||(g[0]=M=>C(1))},[R(t(f.value?.legal_entity?.name)+" ",1),Ns])])]),e("tr",null,[e("td",Ms,t(n(l).drug.label),1),e("td",null,[e("a",{href:"javascript:;",class:"has-text-primary",onClick:g[1]||(g[1]=M=>x(1))},[R(t(f.value?.drug?.name)+" ",1),Is])])]),e("tr",null,[e("td",Fs,t(n(l).statementCreator.label),1),e("td",null,t(f.value?.applicant),1)]),e("tr",null,[e("td",Us,t(n(l).stage.label),1),e("td",As,[e("span",js,t(f.value?.stage?.name),1),B.value?(o(),I(K,{key:0,class:"ml-auto",color:"primary",rounded:"",icon:"feather:edit-2",onClick:g[2]||(g[2]=M=>$.value=!0)},{default:c(()=>[R(t(i.$t("Change_stage")),1)]),_:1})):A("",!0)])]),e("tr",null,[e("td",Bs,t(n(l).date.label),1),e("td",null,t(f.value?.date&&i.$h.formatDate(f.value?.date,"HH:mm DD.MM.YYYY")),1)]),e("tr",null,[e("td",Ys,t(n(l).paymentStatus.label),1),e("td",null,[f.value?.is_paid?(o(),I(P,{key:0,color:"primary",label:i.$t("Paid"),outlined:"",rounded:""},null,8,["label"])):(o(),I(P,{key:1,color:"danger",label:i.$t("Not_Paid"),outlined:"",rounded:""},null,8,["label"]))])]),e("tr",null,[e("td",Rs,t(n(l).contract.label),1),e("td",null,[f.value?.contract_id?(o(),_("a",{key:0,href:"/app/contract/"+f.value?.contract_id,class:"has-text-primary"},[R(t(i.$t("Link_for_contract"))+" ",1),Os],8,Ts)):(o(),_("span",Ps,t(i.$t("No_contract")),1))])]),e("tr",null,[e("td",Es,t(n(l).certificate.label),1),e("td",qs,[f.value?.certificate?(o(),_("a",{key:0,href:f.value?.certificate?.file,class:"has-text-primary",download:""},[R(t(f.value?.certificate?.number)+" ",1),Ls],8,zs)):(o(),_("span",Ws,t(i.$t("No_certificate")),1)),s(K,{class:"ml-auto",color:"primary",rounded:"",icon:"fas fa-plus",onClick:g[3]||(g[3]=M=>r.value=!0)},{default:c(()=>[R(t(i.$t("Upload")),1)]),_:1})])])])])]),_:1},8,["title"])]),e("div",Gs,[s(E,{title:i.$t("Chronology"),straight:"",class:"list-widget-v3"},{default:c(()=>[s(G,{items:D.value},null,8,["items"])]),_:1},8,["title"])]),s(ps,{modelValue:u.value,"onUpdate:modelValue":g[4]||(g[4]=M=>u.value=M),"company-data":f.value?.legal_entity},null,8,["modelValue","company-data"]),s(ks,{modelValue:k.value,"onUpdate:modelValue":g[5]||(g[5]=M=>k.value=M),"drug-data":f.value?.drug},null,8,["modelValue","drug-data"]),s(Q,{modelValue:r.value,"onUpdate:modelValue":g[6]||(g[6]=M=>r.value=M),"statement-id":n(v),onClose:U},null,8,["modelValue","statement-id"]),s(Z,{modelValue:$.value,"onUpdate:modelValue":g[7]||(g[7]=M=>$.value=M),"statement-id":Number(n(v)),"statement-stage":n(w),"onUpdate:data":g[8]||(g[8]=()=>{U(),b()})},null,8,["modelValue","statement-id","statement-stage"])])}}}),Ks=ye(Hs,[["__scopeId","data-v-f40faa40"]]);const Qs=["open"],Zs=["onKeydown","onClick"],Js={class:"collapse-icon"},Xs={class:"collapse-content"},en={key:0},tn=["href"],an={class:"ml-3"},sn={key:1},nn=j({setup(p){const a=X().params?.id??null,m=V([]),d=y=>{m.value.includes(y)?m.value.splice(m.value.indexOf(y),1):m.value.push(y)},l=V();return re(async()=>{const y=await lt(Number(a));l.value=y,m.value=y.map((S,u)=>u)}),(y,S)=>{const u=ft,k=ue("VueIconify");return o(!0),_(T,null,ae(l.value,(r,$)=>(o(),_("details",{key:$,class:"has-chevron collapse",open:m.value?.includes($)??void 0},[ne(y.$slots,"collapse-item",{item:r,index:$,toggle:d},()=>[e("summary",{class:"collapse-header",tabindex:"0",onKeydown:Pe(O(()=>d($),["prevent"]),["space"]),onClick:O(()=>d($),["prevent"])},[e("h3",null,[ne(y.$slots,"collapse-item-summary",{item:r,index:$,toggle:d},()=>[R(t($+1+". "+r.name),1)])]),e("div",Js,[s(u,{icon:"feather:chevron-down"})])],40,Zs),e("div",Xs,[e("p",null,[ne(y.$slots,"collapse-item-content",{item:r,index:$,toggle:d},()=>[r.files.length?(o(),_("ul",en,[(o(!0),_(T,null,ae(r.files,v=>(o(),_("li",null,[e("a",{href:v.file,class:"has-text-primary"},[s(k,{icon:"feather:file",height:"1rem"}),e("span",an,t(v.name),1)],8,tn)]))),256))])):(o(),_("span",sn,t(y.$t("Docs_not_attached_yet")),1))])])])])],8,Qs))),128)}}}),on={class:"statement-detail-wrapper"},ln={key:0},cn={key:1,class:"mt-5"},dn={key:2,class:"mt-5"},rn={key:3,class:"mt-5"},un={key:4,class:"mt-5"},mn={key:5,class:"mt-5"},Pn=j({setup(p){const{t:h}=q(),a=X(),m=V(a.hash.slice(1)||"details"),d=V([{label:h("Statement_details"),value:"details",icon:"lnil lnil-tap"},{label:h("Statement_docs"),value:"docs",icon:"lnil lnil-files"},{label:h("Statement_conclusions"),value:"conclusions",icon:"lnil lnil-euro-down"},{label:h("Statement_notices"),value:"notices",icon:"lnil lnil-euro-down"},{label:h("ITK"),value:"itk",icon:"feather:activity"},{label:h("Chat"),value:"chat",icon:"fas fa-comments"}]);return pt().setPageTitle(h("Statement_card")),Ee({title:ie(()=>h("Statement_card"))}),(y,S)=>{const u=Ks,k=Ma,r=ua,$=Zt,v=Ue,f=Fe;return o(),_("div",on,[s(f,{selected:m.value,tabs:d.value},{tab:c(({activeValue:w})=>[w==="details"?(o(),_("div",ln,[s(u)])):w==="docs"?(o(),_("div",cn,[s(nn)])):w==="conclusions"||n(a).hash=="#conclusions"?(o(),_("div",dn,[s(k)])):w==="notices"||n(a).hash=="#notices"?(o(),_("div",rn,[s(r)])):w==="itk"?(o(),_("div",un,[s($)])):w==="chat"?(o(),_("div",mn,[s(v)])):A("",!0)]),_:1},8,["selected","tabs"])])}}});export{Pn as default};
