import{_ as oe}from"./ConfirmActionModal.97a9d993.js";import{_ as se}from"./VTag.9c6106fb.js";import{A as E,W as z,B as $,r as O,o as c,g as f,w as l,k as e,s,G as t,t as n,x as D,p as V,a2 as T,a3 as W,Q as G,P as ae,b as le,C as ne,q as ie,j as S,m as v,a4 as de,bU as ce}from"./index.433ccf37.js";import{_ as L}from"./VTextarea.61fe4cf8.js";import{_ as re}from"./VBlock.03223bd6.js";import{d as ue,b as me,u as Y,v as _e,e as pe}from"./index.44bf4aef.js";import{a as fe,u as be}from"./VPlaceholderSection.2f3a5682.js";import{_ as he}from"./CountrySelect.6c082996.js";const ve=["onSubmit"],ke={class:"columns is-multiline"},ye={class:"column is-12"},Ve={class:"help has-text-danger"},ge=E({props:{modelValue:Boolean,itemId:{type:Number,default:null}},emits:["update:modelValue","update:list"],setup(M,{emit:k}){const I=M,{t:N}=z();let A=$(N("Block_applicant"));const p=$(""),o=O({block_reason:""});async function m(r){try{await ue(I.itemId,{block_reason:p.value}),k("update:list"),u()}catch(b){Object.assign(o,b.response?.data?.errors)}}function u(){p.value="",Object.assign(o,{block_reason:""}),k("update:modelValue",!1)}function _(r){o[r.target.name]=""}return(r,b)=>{const C=L,w=T,x=W,F=G,j=fe;return c(),f(j,{open:M.modelValue,size:"large",title:t(A),actions:"right",onClose:u},{content:l(()=>[e("form",{id:"block-applicant-form",class:"modal-form",onSubmit:D(m,["prevent"])},[e("div",ke,[e("div",ye,[s(x,{label:r.$t("block_reason"),required:""},{default:l(()=>[s(w,{"has-error":t(o).block_reason[0]},{default:l(()=>[s(C,{name:"block_reason",placeholder:r.$t("Add_text"),modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=U=>p.value=U),onInput:_},null,8,["placeholder","modelValue"]),e("p",Ve,n(t(o).block_reason[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,ve)]),action:l(({close:U})=>[s(F,{color:"danger",outlined:"",type:"submit",form:"block-applicant-form"},{default:l(()=>[V(n(r.$t("Block")),1)]),_:1})]),_:1},8,["open","title"])}}});const $e={class:"form-layout is-separate"},Ce={class:"form-outer"},we={class:"form-body"},xe=["onSubmit"],Be={class:"form-section-inner has-padding-bottom"},Se={class:"has-text-centered"},Ae={class:"columns is-multiline"},Ue={class:"column is-12 mb-3"},qe={class:"help has-text-danger"},Me={class:"column is-12 mb-3"},Ne={class:"help has-text-danger"},Fe={class:"column is-12 mb-3"},je={class:"help has-text-danger"},Oe={class:"column is-12 mb-3"},De={class:"help has-text-danger"},Ie={class:"column is-12 is-flex"},Ye=["onSubmit"],Ee={class:"form-section-inner has-padding-bottom"},ze={class:"has-text-centered"},Te={class:"columns is-multiline"},We={class:"column is-12 mb-3"},Ge={class:"help has-text-danger"},Le={class:"column is-6 mb-3"},Pe={class:"help has-text-danger"},Qe={class:"column is-6 mb-3"},Re={class:"column is-6 mb-3"},He={class:"column is-12 mb-3"},Je={class:"help has-text-danger"},Ke={class:"column is-12"},Xe={class:"column is-12 is-flex"},Ze={class:"form-section"},et={class:"form-section-inner has-padding-bottom"},tt={class:"has-text-centered"},ot={class:"columns is-multiline"},st={class:"column is-12 mb-3"},at={class:"table is-hoverable is-bordered is-fullwidth"},lt={key:0},nt={class:"has-text-weight-bold"},it={class:"name dark-inverted"},dt={key:1},ct={class:"has-text-weight-bold"},rt={class:"name dark-inverted"},ut=["textContent"],mt={key:2},_t={class:"has-text-weight-bold"},pt={class:"name dark-inverted"},ft=["textContent"],bt={key:3},ht={class:"has-text-weight-bold"},vt={class:"name dark-inverted"},kt=["textContent"],St=E({setup(M){const{t:k,locale:I}=z(),N=ae(),A=be(),p=N.params?.id??"",o=O({}),m=$(!1),u=$(!1),_=O({boss_name:"",phone:"",fax:"",website:"",email:"",name:"",country:"",address:"",is_national:""}),r=$(!1),b=le(),C=$(!1),w=$(Function);ne(async()=>{await x()});async function x(){const i=await me(Number(p));Object.assign(o,i)}async function F(i){try{r.value=!0;const a=await Y(Number(p),o);Object.assign(o,a),m.value=!1,b.dismissAll(),b.success(k("Updated_successfully"))}catch(a){Object.assign(_,a.response?.data?.errors)}finally{r.value=!1}}async function j(i){try{r.value=!0;const a=await Y(Number(p),o);Object.assign(o,a),u.value=!1,b.dismissAll(),b.success(k("Updated_successfully"))}catch(a){Object.assign(_,a.response?.data?.errors)}finally{r.value=!1}}async function U(){await w.value(Number(p)),await x()}async function P(){w.value=_e,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}function Q(){m.value=!m.value}function R(){u.value=!u.value}function H(){C.value=!0}async function J(){w.value=pe,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}return(i,a)=>{const B=G,K=re,q=ie("VueIconify"),g=de,h=T,y=W,X=L,Z=ce,ee=se,te=oe;return c(),S("div",null,[e("div",$e,[s(K,{title:"",center:""},{action:l(()=>[t(o).blocked_at?v("",!0):(c(),f(B,{key:0,type:"button",class:"mr-3",outlined:"",color:"danger",icon:"fas fa-ban",onClick:H},{default:l(()=>[V(n(i.$t("Block")),1)]),_:1})),t(o).blocked_at?(c(),f(B,{key:1,type:"button",class:"mr-3",outlined:"",color:"warning",icon:"fas fa-ban",onClick:J},{default:l(()=>[V(n(i.$t("Unblock")),1)]),_:1})):v("",!0),t(o).verified_at?v("",!0):(c(),f(B,{key:2,type:"button",class:"mr-3",outlined:"",color:"primary",icon:"fas fa-check-double",onClick:P},{default:l(()=>[V(n(i.$t("Verify")),1)]),_:1}))]),_:1}),e("div",Ce,[e("div",we,[e("form",{id:"first-block-form",class:"form-section",onSubmit:D(F,["prevent"])},[e("div",Be,[e("h3",Se,[V(n(t(k)("Applicant_details"))+" ",1),e("a",{href:"javascript:;",onClick:Q,class:"edit-btn ml-5"},[m.value?(c(),f(q,{key:1,icon:"feather:x"})):(c(),f(q,{key:0,icon:"feather:edit-2"}))])]),e("div",Ae,[e("div",Ue,[s(y,{required:"",label:i.$t("Boss_name")},{default:l(()=>[s(h,{icon:"feather:user"},{default:l(()=>[s(g,{disabled:!m.value,type:"text",name:"boss_name",modelValue:t(o).boss_name,"onUpdate:modelValue":a[0]||(a[0]=d=>t(o).boss_name=d),placeholder:"",autocomplete:"boss-name"},null,8,["disabled","modelValue"]),e("p",qe,n(t(_).boss_name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Me,[s(y,{required:"",label:i.$t("Applicant_phone_number")},{default:l(()=>[s(h,{icon:"feather:phone",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"tel",name:"phone",modelValue:t(o).phone,"onUpdate:modelValue":a[1]||(a[1]=d=>t(o).phone=d),autocomplete:"applicant-name"},null,8,["disabled","modelValue"]),e("p",Ne,n(t(_).phone[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Fe,[s(y,{required:"",label:i.$t("Website")},{default:l(()=>[s(h,{icon:"feather:globe",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"text",name:"website",modelValue:t(o).website,"onUpdate:modelValue":a[2]||(a[2]=d=>t(o).website=d),autocomplete:"website-name"},null,8,["disabled","modelValue"]),e("p",je,n(t(_).website[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Oe,[s(y,{required:"",label:i.$t("Email_address")},{default:l(()=>[s(h,{icon:"feather:mail",required:""},{default:l(()=>[s(g,{disabled:!m.value,type:"email",name:"email",modelValue:t(o).email,"onUpdate:modelValue":a[3]||(a[3]=d=>t(o).email=d),autocomplete:"email",inputmode:"email"},null,8,["disabled","modelValue"]),e("p",De,n(t(_).email[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Ie,[m.value?(c(),f(B,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"first-block-form"},{default:l(()=>[V(n(i.$t("Save")),1)]),_:1},8,["loading"])):v("",!0)])])])],40,xe),e("form",{id:"second-block-form",class:"form-section",onSubmit:D(j,["prevent"])},[e("div",Ee,[e("h3",ze,[V(n(t(k)("Company_information"))+" ",1),e("a",{href:"javascript:;",onClick:R,class:"edit-btn ml-5"},[u.value?(c(),f(q,{key:1,icon:"feather:x"})):(c(),f(q,{key:0,icon:"feather:edit-2"}))])]),e("div",Te,[e("div",We,[s(y,{required:"",label:i.$t("Company_name")},{default:l(()=>[s(h,{icon:"feather:briefcase",required:""},{default:l(()=>[s(g,{disabled:!u.value,modelValue:t(o).name,"onUpdate:modelValue":a[4]||(a[4]=d=>t(o).name=d),autocomplete:"company_name"},null,8,["disabled","modelValue"]),e("p",Ge,n(t(_).name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Le,[s(y,{label:i.$t("Company_fax")},{default:l(()=>[s(h,{icon:"feather:printer",required:""},{default:l(()=>[s(g,{disabled:!u.value,modelValue:t(o).fax,"onUpdate:modelValue":a[5]||(a[5]=d=>t(o).fax=d),autocomplete:"tel",inputmode:"tel"},null,8,["disabled","modelValue"]),e("p",Pe,n(t(_).fax[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Qe,[s(he,{disabled:!u.value,modelValue:t(o).country,"onUpdate:modelValue":a[6]||(a[6]=d=>t(o).country=d),required:""},null,8,["disabled","modelValue"])]),e("div",Re,[s(y,{label:i.$t("stir")},{default:l(()=>[s(h,{icon:"fas fa-hashtag"},{default:l(()=>[s(g,{disabled:"",value:t(o).inn},null,8,["value"])]),_:1})]),_:1},8,["label"])]),e("div",He,[s(y,{required:"",label:i.$t("Address")},{default:l(()=>[s(h,null,{default:l(()=>[s(X,{modelValue:t(o).address,"onUpdate:modelValue":a[7]||(a[7]=d=>t(o).address=d),rows:2},null,8,["modelValue"]),e("p",Je,n(t(_).address[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Ke,[s(h,{raw:"",subcontrol:""},{default:l(()=>[s(Z,{class:"pl-1",modelValue:t(o).is_national,"onUpdate:modelValue":a[8]||(a[8]=d=>t(o).is_national=d),label:i.$t("isNational"),color:"primary","true-value":1,"false-value":0,disabled:!u.value},null,8,["modelValue","label","disabled"])]),_:1})]),e("div",Xe,[u.value?(c(),f(B,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"second-block-form"},{default:l(()=>[V(n(i.$t("Save")),1)]),_:1},8,["loading"])):v("",!0)])])])],40,Ye),e("div",Ze,[e("div",et,[e("h3",tt,n(t(k)("Applicant_status")),1),e("div",ot,[e("div",st,[e("table",at,[e("tbody",null,[t(o).status?(c(),S("tr",lt,[e("td",nt,[e("div",it,n(i.$t("Status")),1)]),e("td",null,[s(ee,{color:t(o).status.color,rounded:"",textContent:n(t(o).status?.name)},null,8,["color","textContent"])])])):v("",!0),t(o).verified_at?(c(),S("tr",dt,[e("td",ct,[e("div",rt,n(i.$t("verified_at")),1)]),e("td",null,[e("span",{class:"has-text-primary is-size-6",textContent:n(i.$h.formatDate(t(o).verified_at,"DD.MM.YYYY"))},null,8,ut)])])):v("",!0),t(o).block_reason?(c(),S("tr",mt,[e("td",_t,[e("div",pt,n(i.$t("block_reason")),1)]),e("td",null,[e("span",{color:"danger is-size-6",textContent:n(t(o).block_reason)},null,8,ft)])])):v("",!0),t(o).blocked_at?(c(),S("tr",bt,[e("td",ht,[e("div",vt,n(i.$t("blocked_at")),1)]),e("td",null,[e("span",{class:"has-text-danger is-size-6",textContent:n(i.$h.formatDate(t(o).blocked_at,"DD.MM.YYYY"))},null,8,kt)])])):v("",!0)])])])])])])])])]),s(te,{onConfirmAction:U}),s(ge,{modelValue:C.value,"onUpdate:modelValue":a[9]||(a[9]=d=>C.value=d),"item-id":Number(t(p)),"onUpdate:list":x},null,8,["modelValue","item-id"])])}}});export{St as _};
