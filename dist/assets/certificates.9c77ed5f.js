import{_ as E,a as L}from"./VFlexTable.vue_vue_type_style_index_0_lang.3d3c5523.js";import{_ as O}from"./VFlexPagination.06816b19.js";import{_ as U}from"./VTag.vue_vue_type_style_index_0_lang.3ef5014c.js";import{_ as G}from"./StatusTag.vue_vue_type_script_setup_true_lang.308cda4f.js";import{_ as A}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.d85ce3f3.js";import{_ as J}from"./VFlexTableToolbar.5dcf669d.js";import{z as K,N as Q,O as X,r as Y,e as V,bP as D,B as Z,p as b,o,i as c,q as e,w as r,E as n,G as $,x as M,bo as P,l as f,j as w,t as p,f as g,m as tt,a2 as et,a0 as at,P as ot,a1 as nt}from"./index.49148b3c.js";import{l as st}from"./lodash.3b5131c6.js";import{a as rt}from"./index.e3969c21.js";import{u as it}from"./viewWrapper.e3463906.js";import"./VFlex.vue_vue_type_style_index_0_lang.299bd620.js";const lt={class:"applicant-list-wrapper"},_t=w("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),ct={key:0,class:"flex-list-inner"},pt=["href"],dt={class:"mr-3"},mt={key:2},ut={key:3},ft={key:4},gt={key:5},yt={key:7},Ft=K({setup(ht){const{t:_,locale:C}=Q();X({title:_("Certificate_report")+" - Nefrit"}),it().setPageTitle(_("Certificate_report"));const l=Y({pagination:{current_page:1,per_page:10,total:10},result:[]}),y=V({get:()=>l.pagination.current_page,set:async t=>{await h(t)}}),T=Y({type:"string",mask:"YYYY-MM-DD"}),m=V({get:()=>({start:D().subtract(1,"month").format("YYYY-MM-DD"),end:D().format("YYYY-MM-DD")}),set:async t=>{console.log({val:t}),st.exports.isEmpty(t)||await h(1,{date_start:t.start,date_end:t.end})}}),x={number:{label:_("Certificate_number")},application:{label:_("Statement")},drug:{label:_("drug_name")},drug_country:{label:_("Drug_country")},created_at:{label:_("Created_at")},validity_date:{label:_("Validity_date")}};Z(async()=>{await h(1,{date_start:m.value.start,date_end:m.value.end})});async function h(t=1,d={date_start:"",date_end:""}){const u=await rt({page:t,...d});Object.assign(l,u)}return(t,d)=>{const u=et,k=at,N=ot,B=nt,F=b("VDatePicker"),S=J,H=A,I=b("VueIconify"),R=b("RouterLink"),W=G,v=U,j=E,q=O,z=L;return o(),c("div",lt,[e(z,{columns:n(x),data:n(l).result,limit:n(l).pagination.per_page,total:n(l).pagination.total},{default:r(bt=>[e(S,null,{left:r(()=>[e(F,{locale:n(C),class:"ml-auto",modelValue:n(m),"onUpdate:modelValue":d[0]||(d[0]=s=>$(m)?m.value=s:null),"is-range":"",color:"green","trim-weeks":"","model-config":n(T)},{default:r(({inputValue:s,inputEvents:a})=>[e(B,{addons:""},{default:r(()=>[e(k,{expanded:"",icon:"feather:corner-down-right"},{default:r(()=>[e(u,M({value:s.start},P(a.start)),null,16,["value"])]),_:2},1024),e(k,null,{default:r(()=>[e(N,{static:""},{default:r(()=>[_t]),_:1})]),_:1}),e(k,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:r(()=>[e(u,M({value:s.end},P(a.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(j,{rounded:""},{body:r(()=>[n(l).result.length===0?(o(),c("div",ct,[e(H,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):f("",!0)]),"body-cell":r(({row:s,column:a,value:i,index:Yt})=>[a.key==="number"?(o(),c("a",{key:0,href:s.file,class:"has-text-primary is-pushed-mobile"},[w("span",dt,p(i),1),e(I,{icon:"feather:link"})],8,pt)):f("",!0),a.key==="application"?(o(),g(R,{key:1,to:`/app/statements/${i.id}`},{default:r(()=>[tt(p(i?.code),1)]),_:2},1032,["to"])):a.key==="drug"?(o(),c("span",mt,p(i?.name),1)):a.key==="drug_country"?(o(),c("span",ut,p(s.drug?.country?.name),1)):a.key==="created_at"&&i?(o(),c("span",ft,p(t.$h.formatDate(i,"HH:mm DD.MM.YYYY")),1)):a.key==="validity_date"?(o(),c("span",gt,p(t.$h.formatDate(s.start_date,"DD.MM.YYYY")+" - "+t.$h.formatDate(s.end_date,"DD.MM.YYYY")),1)):a.key==="status"?(o(),g(W,{key:6,status:i},null,8,["status"])):a.key==="stage"?(o(),c("span",yt,p(i.name),1)):a.key==="is_paid"?(o(),g(v,{key:8,class:"is-size-6",color:i?"primary":"warning",rounded:"",label:i?t.$t("Paid"):t.$t("Not_Paid")},null,8,["color","label"])):f("",!0)]),_:1}),n(l).result.length?(o(),g(q,{key:0,class:"mt-6","current-page":n(y),"onUpdate:current-page":d[1]||(d[1]=s=>$(y)?y.value=s:null),"item-per-page":n(l).pagination.per_page,"total-items":n(l).pagination.total},null,8,["current-page","item-per-page","total-items"])):f("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{Ft as default};
