import{_ as ie}from"./VTabs.vue_vue_type_script_setup_true_lang.e1f4c842.js";import{_ as ce,a as de}from"./VFlexTable.vue_vue_type_style_index_0_lang.b2a1aa66.js";import{_ as re}from"./VFlexPagination.b9e389fc.js";import{_ as G}from"./VTag.vue_vue_type_script_setup_true_lang.c27e2f64.js";import{_ as ue}from"./StatusTag.vue_vue_type_script_setup_true_lang.05c0dfe4.js";import{_ as me}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.a9a6d9f8.js";import{z as T,M as Z,Z as _e,N as Y,r as O,e as J,bv as pe,p as K,o as c,i as g,q as s,w as o,E as t,l as v,t as l,f as y,m as w,G as fe,A as U,j as e,v as R,a2 as Q,a3 as X,P as ee,b as be,B as he,a4 as ve,bS as ye,O as ge}from"./index.e9599081.js";import{u as te}from"./index.fc077572.js";import{f as ke,b as Ve,a as $e,u as L,v as we,c as Ce}from"./index.58c0b5bb.js";import{_ as xe}from"./ConfirmActionModal.vue_vue_type_script_setup_true_lang.5d34551f.js";import{_ as ae}from"./VTextarea.89d90a57.js";import{_ as Se}from"./VBlock.vue_vue_type_style_index_0_lang.49be43a5.js";import{_ as Ae}from"./CountrySelect.vue_vue_type_style_index_0_lang.e4f88827.js";import{_ as Be}from"./VModal.vue_vue_type_style_index_0_lang.4181f2de.js";import{u as Me}from"./viewWrapper.14b00cc4.js";import"./VIcon.vue_vue_type_script_setup_true_lang.dbfb29ab.js";import"./VFlex.vue_vue_type_style_index_0_lang.a39d8fdc.js";import"./VOption.vue_vue_type_style_index_0_lang.2152ea57.js";import"./lodash.adaa9811.js";const Ue={key:0,class:"flex-list-inner"},qe={key:0},Fe={key:1},Ne=["onClick"],je=T({props:{data:{type:Object,default:()=>({pagination:{},result:[]})}},emits:["update:data"],async setup(j,{emit:f}){let D,C;const x=j,b=Z(),a=_e();te();const{t:u,locale:_}=Y(),d=O(x.data),r=J({get:()=>d.pagination.current_page,set:async h=>{await S(h)}}),p={uuid:{label:u("statement_code")},drug:{label:u("drug_name")},date:{label:u("applied_at")},status:u("Status"),stage:{label:u("Stage"),grow:!0},actions:{label:u("Actions"),align:"center"}},q=b.params?.id??null;[D,C]=pe(()=>S()),await D,C();async function S(h=1){const A=await ke(q,h);Object.assign(d,A)}function F(h){a.push(`/app/statements/${h}`)}return(h,A)=>{const I=me,z=ue,E=G,P=K("VueIconify"),W=ce,H=re,i=de;return c(),g("div",null,[s(i,{columns:t(p),data:t(d).result,limit:t(d).pagination.per_page,total:t(d).pagination.total},{default:o(n=>[s(W,{rounded:""},{body:o(()=>[t(d).result.length===0?(c(),g("div",Ue,[s(I,{title:h.$t("No_data"),subtitle:h.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):v("",!0)]),"body-cell":o(({row:V,column:N,value:$,index:B})=>[N.key==="drug"?(c(),g("span",qe,l($.name),1)):N.key==="date"?(c(),g("span",Fe,l(h.$h.formatDate($,"HH:mm DD.MM.YYYY")),1)):N.key==="status"?(c(),y(z,{key:2,status:$},null,8,["status"])):N.key==="stage"?(c(),y(E,{key:3,class:"is-size-6",rounded:"",color:"info"},{default:o(()=>[w(l($.name),1)]),_:2},1024)):N.key==="actions"?(c(),g("a",{key:4,href:"javascript:;",onClick:k=>F(V.id)},[s(P,{icon:"feather:eye",class:"has-text-primary",height:"1.5rem"})],8,Ne)):v("",!0)]),_:1}),t(d).result?.length?(c(),y(H,{key:0,class:"mt-6","current-page":t(r),"onUpdate:current-page":A[0]||(A[0]=V=>fe(r)?r.value=V:null),"item-per-page":t(d).pagination.per_page,"total-items":t(d).pagination.total},null,8,["current-page","item-per-page","total-items"])):v("",!0)]),_:1},8,["columns","data","limit","total"])])}}}),De=["onSubmit"],Ie={class:"columns is-multiline"},Oe={class:"column is-12"},Te={class:"help has-text-danger"},Ye=T({props:{modelValue:Boolean,itemId:{type:Number,default:null}},emits:["update:modelValue","update:list"],setup(j,{emit:f}){const D=j,{t:C}=Y();let x=U(C("Block_applicant"));const b=U(""),a=O({block_reason:""});async function u(r){try{await Ve(D.itemId,{block_reason:b.value}),f("update:list"),_()}catch(p){Object.assign(a,p.response?.data?.errors)}}function _(){b.value="",Object.assign(a,{block_reason:""}),f("update:modelValue",!1)}function d(r){a[r.target.name]=""}return(r,p)=>{const q=ae,S=Q,F=X,h=ee,A=Be;return c(),y(A,{open:j.modelValue,size:"large",title:t(x),actions:"right",onClose:_},{content:o(()=>[e("form",{id:"block-applicant-form",class:"modal-form",onSubmit:R(u,["prevent"])},[e("div",Ie,[e("div",Oe,[s(F,{label:r.$t("block_reason"),required:""},{default:o(()=>[s(S,{"has-error":t(a).block_reason[0]},{default:o(()=>[s(q,{name:"block_reason",placeholder:r.$t("Add_text"),modelValue:b.value,"onUpdate:modelValue":p[0]||(p[0]=I=>b.value=I),onInput:d},null,8,["placeholder","modelValue"]),e("p",Te,l(t(a).block_reason[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,De)]),action:o(({close:I})=>[s(h,{color:"danger",outlined:"",type:"submit",form:"block-applicant-form"},{default:o(()=>[w(l(r.$t("Block")),1)]),_:1})]),_:1},8,["open","title"])}}}),ze={class:"form-layout is-separate"},Ee={class:"form-outer"},Pe={class:"form-body"},We=["onSubmit"],He={class:"form-section-inner has-padding-bottom"},Re={class:"has-text-centered"},Le={class:"columns is-multiline"},Ge={class:"column is-12 mb-3"},Ze={class:"help has-text-danger"},Je={class:"column is-12 mb-3"},Ke={class:"help has-text-danger"},Qe={class:"column is-12 mb-3"},Xe={class:"help has-text-danger"},et={class:"column is-12 mb-3"},tt={class:"help has-text-danger"},at={class:"column is-12 is-flex"},st=["onSubmit"],ot={class:"form-section-inner has-padding-bottom"},nt={class:"has-text-centered"},lt={class:"columns is-multiline"},it={class:"column is-12 mb-3"},ct={class:"help has-text-danger"},dt={class:"column is-6 mb-3"},rt={class:"help has-text-danger"},ut={class:"column is-6 mb-3"},mt={class:"column is-6 mb-3"},_t={class:"column is-12 mb-3"},pt={class:"help has-text-danger"},ft={class:"column is-12"},bt={class:"column is-12 is-flex"},ht={class:"form-section"},vt={class:"form-section-inner has-padding-bottom"},yt={class:"has-text-centered"},gt={class:"columns is-multiline"},kt={class:"column is-12 mb-3"},Vt={class:"table is-hoverable is-bordered is-fullwidth"},$t={key:0},wt={class:"has-text-weight-bold"},Ct={class:"name dark-inverted"},xt={key:1},St={class:"has-text-weight-bold"},At={class:"name dark-inverted"},Bt=["textContent"],Mt={key:2},Ut={class:"has-text-weight-bold"},qt={class:"name dark-inverted"},Ft=["textContent"],Nt={key:3},jt={class:"has-text-weight-bold"},Dt={class:"name dark-inverted"},It=["textContent"],Ot=T({setup(j){const{t:f,locale:D}=Y(),C=Z(),x=te(),b=C.params?.id??"",a=O({}),u=U(!1),_=U(!1),d=O({boss_name:"",phone:"",fax:"",website:"",email:"",name:"",country:"",address:"",is_national:""}),r=U(!1),p=be(),q=U(!1),S=U(Function);he(async()=>{await F()});async function F(){const i=await $e(Number(b));Object.assign(a,i)}async function h(i){try{r.value=!0;const n=await L(Number(b),a);Object.assign(a,n),u.value=!1,p.dismissAll(),p.success(f("Updated_successfully"))}catch(n){Object.assign(d,n.response?.data?.errors)}finally{r.value=!1}}async function A(i){try{r.value=!0;const n=await L(Number(b),a);Object.assign(a,n),_.value=!1,p.dismissAll(),p.success(f("Updated_successfully"))}catch(n){Object.assign(d,n.response?.data?.errors)}finally{r.value=!1}}async function I(){await S.value(Number(b)),await F()}async function z(){S.value=we,x.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}function E(){u.value=!u.value}function P(){_.value=!_.value}function W(){q.value=!0}async function H(){S.value=Ce,x.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}return(i,n)=>{const V=ee,N=Se,$=K("VueIconify"),B=ve,k=Q,M=X,se=ae,oe=ye,ne=G,le=xe;return c(),g("div",null,[e("div",ze,[s(N,{title:"",center:""},{action:o(()=>[t(a).blocked_at?v("",!0):(c(),y(V,{key:0,type:"button",class:"mr-3",outlined:"",color:"danger",icon:"fas fa-ban",onClick:W},{default:o(()=>[w(l(i.$t("Block")),1)]),_:1})),t(a).blocked_at?(c(),y(V,{key:1,type:"button",class:"mr-3",outlined:"",color:"warning",icon:"fas fa-ban",onClick:H},{default:o(()=>[w(l(i.$t("Unblock")),1)]),_:1})):v("",!0),t(a).verified_at?v("",!0):(c(),y(V,{key:2,type:"button",class:"mr-3",outlined:"",color:"primary",icon:"fas fa-check-double",onClick:z},{default:o(()=>[w(l(i.$t("Verify")),1)]),_:1}))]),_:1}),e("div",Ee,[e("div",Pe,[e("form",{id:"first-block-form",class:"form-section",onSubmit:R(h,["prevent"])},[e("div",He,[e("h3",Re,[w(l(t(f)("Applicant_details"))+" ",1),e("a",{href:"javascript:;",onClick:E,class:"edit-btn ml-5"},[u.value?(c(),y($,{key:1,icon:"feather:x"})):(c(),y($,{key:0,icon:"feather:edit-2"}))])]),e("div",Le,[e("div",Ge,[s(M,{required:"",label:i.$t("Boss_name")},{default:o(()=>[s(k,{icon:"feather:user"},{default:o(()=>[s(B,{disabled:!u.value,type:"text",name:"boss_name",modelValue:t(a).boss_name,"onUpdate:modelValue":n[0]||(n[0]=m=>t(a).boss_name=m),placeholder:"",autocomplete:"boss-name"},null,8,["disabled","modelValue"]),e("p",Ze,l(t(d).boss_name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Je,[s(M,{required:"",label:i.$t("Applicant_phone_number")},{default:o(()=>[s(k,{icon:"feather:phone",required:""},{default:o(()=>[s(B,{disabled:!u.value,type:"tel",name:"phone",modelValue:t(a).phone,"onUpdate:modelValue":n[1]||(n[1]=m=>t(a).phone=m),autocomplete:"applicant-name"},null,8,["disabled","modelValue"]),e("p",Ke,l(t(d).phone[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Qe,[s(M,{required:"",label:i.$t("Website")},{default:o(()=>[s(k,{icon:"feather:globe",required:""},{default:o(()=>[s(B,{disabled:!u.value,type:"text",name:"website",modelValue:t(a).website,"onUpdate:modelValue":n[2]||(n[2]=m=>t(a).website=m),autocomplete:"website-name"},null,8,["disabled","modelValue"]),e("p",Xe,l(t(d).website[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",et,[s(M,{required:"",label:i.$t("Email_address")},{default:o(()=>[s(k,{icon:"feather:mail",required:""},{default:o(()=>[s(B,{disabled:!u.value,type:"email",name:"email",modelValue:t(a).email,"onUpdate:modelValue":n[3]||(n[3]=m=>t(a).email=m),autocomplete:"email",inputmode:"email"},null,8,["disabled","modelValue"]),e("p",tt,l(t(d).email[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",at,[u.value?(c(),y(V,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"first-block-form",disabled:r.value},{default:o(()=>[w(l(i.$t("Save")),1)]),_:1},8,["loading","disabled"])):v("",!0)])])])],40,We),e("form",{id:"second-block-form",class:"form-section",onSubmit:R(A,["prevent"])},[e("div",ot,[e("h3",nt,[w(l(t(f)("Company_information"))+" ",1),e("a",{href:"javascript:;",onClick:P,class:"edit-btn ml-5"},[_.value?(c(),y($,{key:1,icon:"feather:x"})):(c(),y($,{key:0,icon:"feather:edit-2"}))])]),e("div",lt,[e("div",it,[s(M,{required:"",label:i.$t("Company_name")},{default:o(()=>[s(k,{icon:"feather:briefcase",required:""},{default:o(()=>[s(B,{disabled:!_.value,modelValue:t(a).name,"onUpdate:modelValue":n[4]||(n[4]=m=>t(a).name=m),autocomplete:"company_name"},null,8,["disabled","modelValue"]),e("p",ct,l(t(d).name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",dt,[s(M,{label:i.$t("Company_fax")},{default:o(()=>[s(k,{icon:"feather:printer",required:""},{default:o(()=>[s(B,{disabled:!_.value,modelValue:t(a).fax,"onUpdate:modelValue":n[5]||(n[5]=m=>t(a).fax=m),autocomplete:"tel",inputmode:"tel"},null,8,["disabled","modelValue"]),e("p",rt,l(t(d).fax[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",ut,[s(Ae,{disabled:!_.value,modelValue:t(a).country_id,"onUpdate:modelValue":n[6]||(n[6]=m=>t(a).country_id=m),required:""},null,8,["disabled","modelValue"])]),e("div",mt,[s(M,{label:i.$t("stir")},{default:o(()=>[s(k,{icon:"fas fa-hashtag"},{default:o(()=>[s(B,{disabled:"",value:t(a).inn},null,8,["value"])]),_:1})]),_:1},8,["label"])]),e("div",_t,[s(M,{required:"",label:i.$t("Address")},{default:o(()=>[s(k,null,{default:o(()=>[s(se,{modelValue:t(a).address,"onUpdate:modelValue":n[7]||(n[7]=m=>t(a).address=m),rows:2},null,8,["modelValue"]),e("p",pt,l(t(d).address[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",ft,[s(k,{raw:"",subcontrol:""},{default:o(()=>[s(oe,{class:"pl-1",modelValue:t(a).is_national,"onUpdate:modelValue":n[8]||(n[8]=m=>t(a).is_national=m),label:i.$t("isNational"),color:"primary","true-value":1,"false-value":0,disabled:!_.value},null,8,["modelValue","label","disabled"])]),_:1})]),e("div",bt,[_.value?(c(),y(V,{key:0,loading:r.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"second-block-form",disabled:r.value},{default:o(()=>[w(l(i.$t("Save")),1)]),_:1},8,["loading","disabled"])):v("",!0)])])])],40,st),e("div",ht,[e("div",vt,[e("h3",yt,l(t(f)("Applicant_status")),1),e("div",gt,[e("div",kt,[e("table",Vt,[e("tbody",null,[t(a).status?(c(),g("tr",$t,[e("td",wt,[e("div",Ct,l(i.$t("Status")),1)]),e("td",null,[s(ne,{color:t(a).status.color,rounded:"",textContent:l(t(a).status?.name)},null,8,["color","textContent"])])])):v("",!0),t(a).verified_at?(c(),g("tr",xt,[e("td",St,[e("div",At,l(i.$t("verified_at")),1)]),e("td",null,[e("span",{class:"has-text-primary is-size-6",textContent:l(i.$h.formatDate(t(a).verified_at,"DD.MM.YYYY"))},null,8,Bt)])])):v("",!0),t(a).block_reason?(c(),g("tr",Mt,[e("td",Ut,[e("div",qt,l(i.$t("block_reason")),1)]),e("td",null,[e("span",{color:"danger is-size-6",textContent:l(t(a).block_reason)},null,8,Ft)])])):v("",!0),t(a).blocked_at?(c(),g("tr",Nt,[e("td",jt,[e("div",Dt,l(i.$t("blocked_at")),1)]),e("td",null,[e("span",{class:"has-text-danger is-size-6",textContent:l(i.$h.formatDate(t(a).blocked_at,"DD.MM.YYYY"))},null,8,It)])])):v("",!0)])])])])])])])])]),s(le,{onConfirmAction:I}),s(Ye,{modelValue:q.value,"onUpdate:modelValue":n[9]||(n[9]=m=>q.value=m),"item-id":Number(t(b)),"onUpdate:list":F},null,8,["modelValue","item-id"])])}}});const Tt={class:"applicant-detail-wrapper"},Yt={key:0,class:"mt-5"},zt={key:1,class:"mt-5"},ia=T({setup(j){const{t:f,locale:D}=Y(),C=U(),x=O([{label:f("Applicant_details"),value:"details",icon:"feather:info"},{label:f("Statements"),value:"statements",icon:"feather:file-text"}]);return Me().setPageTitle(f("Applicant_Info")),ge({title:J(()=>C.value?.title??"Loading applicant...")}),(a,u)=>{const _=Ot,d=je,r=ie;return c(),g("div",Tt,[s(r,{selected:"details",tabs:t(x)},{tab:o(({activeValue:p})=>[p==="details"?(c(),g("div",Yt,[s(_)])):p==="statements"?(c(),g("div",zt,[s(d)])):v("",!0)]),_:1},8,["tabs"])])}}});export{ia as default};
