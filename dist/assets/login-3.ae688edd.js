import{z as R,N as L,A as N,$ as S,Z as E,M as B,b as D,a as U,r as j,O as A,p as F,o as O,i as P,j as e,q as s,w as n,R as q,v as b,E as a,t as r,m as K,a2 as M,a0 as T,a1 as W,bS as z,P as H}from"./index.49148b3c.js";import{_ as Z}from"./AnimatedLogo.1e3dec37.js";const G={class:"auth-wrapper-inner is-single"},J={class:"auth-nav"},Q=e("div",{class:"left"},null,-1),X={class:"center"},Y={class:"right"},ee=["checked"],se=e("span",null,null,-1),te={class:"single-form-wrap"},oe={class:"inner-wrap"},ne={class:"auth-head"},ae={class:"form-card"},re=["onSubmit"],le={class:"login-form"},ie={class:"help has-text-danger"},ce={class:"help has-text-danger"},de={class:"login"},me=R({setup(ue){const{t:h}=L(),l=N(!1),c=S(),d=E(),w=B(),u=D(),{loginUser:k,isLoggedIn:y}=U(),f=w.query.redirect,i=j({username:"",password:""});y&&d.push({name:"app"});const $=async o=>{try{l.value=!0;const t=Object.fromEntries(new FormData(o.target));await k(t),u.dismissAll(),u.success(`${h("Welcome_back")}, ${t.username?.toUpperCase()}`),f?d.push(f):d.push({name:"app"})}catch(t){Object.assign(i,t.response?.data?.errors),t.response?.data?.errors.message&&u.error(t.response?.data?.errors.message[0])}finally{l.value=!1}};A({title:h("auth_login_nefrit")});function g(o){i[o.target.name]=""}return(o,t)=>{const C=Z,V=F("RouterLink"),v=M,_=T,p=W,x=z,I=H;return O(),P("div",G,[e("div",J,[Q,e("div",X,[s(V,{to:{name:"index"},class:"header-item"},{default:n(()=>[s(C,{width:"38px",height:"38px"})]),_:1})]),e("div",Y,[e("label",{class:"dark-mode ml-auto",tabindex:"0",onKeydown:t[1]||(t[1]=q(b(m=>m.target.click(),["prevent"]),["space"]))},[e("input",{type:"checkbox",checked:!a(c).isDark,onChange:t[0]||(t[0]=(...m)=>a(c).onChange&&a(c).onChange(...m))},null,40,ee),se],32)])]),e("div",te,[e("div",oe,[e("div",ne,[e("h2",null,r(o.$t("Welcome_to_NEFRIT")),1),e("p",null,r(o.$t("Please_sign_in_to_your_account")),1)]),e("div",ae,[e("form",{onSubmit:b($,["prevent"])},[e("div",le,[s(p,null,{default:n(()=>[s(_,{icon:"feather:user"},{default:n(()=>[s(v,{type:"text",name:"username",placeholder:o.$t("Username"),autocomplete:"username",onInput:g},null,8,["placeholder"]),e("p",ie,r(a(i).username[0]),1)]),_:1})]),_:1}),s(p,null,{default:n(()=>[s(_,{icon:"feather:lock"},{default:n(()=>[s(v,{type:"password",name:"password",placeholder:o.$t("Password"),autocomplete:"current-password",onInput:g},null,8,["placeholder"]),e("p",ce,r(a(i).password[0]),1)]),_:1})]),_:1}),s(p,null,{default:n(()=>[s(_,{class:"setting-item"},{default:n(()=>[s(x,{label:o.$t("Remember_me"),paddingless:""},null,8,["label"])]),_:1})]),_:1}),e("div",de,[s(I,{loading:l.value,color:"primary",type:"submit",bold:"",fullwidth:"",raised:"",disabled:l.value},{default:n(()=>[K(r(o.$t("Sign_In")),1)]),_:1},8,["loading","disabled"])])])],40,re)])])])])}}});export{me as default};
