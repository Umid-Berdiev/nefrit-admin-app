import{_ as E,a as L}from"./VFlexTable.vue_vue_type_style_index_0_lang.13c23291.js";import{_ as O}from"./VFlexPagination.1b34d528.js";import{_ as G}from"./VTag.vue_vue_type_script_setup_true_lang.1f8e3842.js";import{_ as Q}from"./StatusTag.vue_vue_type_script_setup_true_lang.7c5fabce.js";import{_ as A}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.19b59443.js";import{a as J,_ as K}from"./index.7eb6ce2a.js";import{z as X,N as Z,O as ee,a as te,r as Y,e as V,bQ as D,B as ae,p as b,o,i as c,q as t,w as r,E as a,G as $,x as M,bn as P,l as f,j as w,t as d,f as g,m as ne,a4 as oe,a2 as se,P as re,a3 as ie}from"./index.5591eac8.js";import{l as le}from"./lodash.4fa21a63.js";import{u as _e}from"./viewWrapper.d586dd7e.js";import"./VFlex.vue_vue_type_style_index_0_lang.c589aea0.js";const ce={class:"applicant-list-wrapper"},de=w("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),pe={key:0,class:"flex-list-inner"},ue=["href"],me={class:"mr-3"},fe={key:2},ge={key:3},ye={key:4},he={key:5},ke={key:7},Fe=X({setup(be){const{t:_,locale:C}=Z();ee({title:_("Certificate_report")+" - Nefrit"});const{userRoleID:T}=te();_e().setPageTitle(_("Certificate_report"));const l=Y({pagination:{current_page:1,per_page:10,total:10},result:[]}),y=V({get:()=>l.pagination.current_page,set:async e=>{await h(e)}}),N=Y({type:"string",mask:"YYYY-MM-DD"}),u=V({get:()=>({start:D().subtract(1,"month").format("YYYY-MM-DD"),end:D().format("YYYY-MM-DD")}),set:async e=>{le.exports.isEmpty(e)||await h(1,{date_start:e.start,date_end:e.end})}}),x={number:{label:_("Certificate_number")},application:{label:_("Statement")},drug:{label:_("drug_name")},drug_country:{label:_("Drug_country")},created_at:{label:_("Created_at")},validity_date:{label:_("Validity_date")}};ae(async()=>{await h(1,{date_start:u.value.start,date_end:u.value.end})});async function h(e=1,p={date_start:"",date_end:""}){const m=await J({page:e,...p});Object.assign(l,m)}return(e,p)=>{const m=oe,k=se,S=re,B=ie,F=b("VDatePicker"),I=K,R=A,v=b("VueIconify"),H=b("RouterLink"),W=Q,U=G,j=E,q=O,z=L;return o(),c("div",ce,[t(z,{columns:a(x),data:a(l).result,limit:a(l).pagination.per_page,total:a(l).pagination.total},{default:r(Ve=>[t(I,null,{left:r(()=>[t(F,{locale:a(C),class:"ml-auto",modelValue:a(u),"onUpdate:modelValue":p[0]||(p[0]=s=>$(u)?u.value=s:null),"is-range":"",color:"green","trim-weeks":"","model-config":a(N)},{default:r(({inputValue:s,inputEvents:n})=>[t(B,{addons:""},{default:r(()=>[t(k,{expanded:"",icon:"feather:corner-down-right"},{default:r(()=>[t(m,M({value:s.start},P(n.start)),null,16,["value"])]),_:2},1024),t(k,null,{default:r(()=>[t(S,{static:""},{default:r(()=>[de]),_:1})]),_:1}),t(k,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:r(()=>[t(m,M({value:s.end},P(n.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),t(j,{rounded:""},{body:r(()=>[a(l).result.length===0?(o(),c("div",pe,[t(R,{title:e.$t("No_data"),subtitle:e.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):f("",!0)]),"body-cell":r(({row:s,column:n,value:i,index:De})=>[n.key==="number"?(o(),c("a",{key:0,href:s.file,class:"has-text-primary is-pushed-mobile"},[w("span",me,d(i),1),t(v,{icon:"feather:link"})],8,ue)):f("",!0),n.key==="application"?(o(),g(H,{key:1,to:e.$h.gotoStatementPage(i.id,a(T))},{default:r(()=>[ne(d(i?.uuid),1)]),_:2},1032,["to"])):n.key==="drug"?(o(),c("span",fe,d(i?.name),1)):n.key==="drug_country"?(o(),c("span",ge,d(s.drug?.country?.name),1)):n.key==="created_at"&&i?(o(),c("span",ye,d(e.$h.formatDate(i,"HH:mm DD.MM.YYYY")),1)):n.key==="validity_date"?(o(),c("span",he,d(e.$h.formatDate(s.start_date,"DD.MM.YYYY")+" - "+e.$h.formatDate(s.end_date,"DD.MM.YYYY")),1)):n.key==="status"?(o(),g(W,{key:6,status:i},null,8,["status"])):n.key==="stage"?(o(),c("span",ke,d(i.name),1)):n.key==="is_paid"?(o(),g(U,{key:8,class:"is-size-6",color:i?"primary":"warning",rounded:"",label:i?e.$t("Paid"):e.$t("Not_Paid")},null,8,["color","label"])):f("",!0)]),_:1}),a(l).result.length?(o(),g(q,{key:0,class:"mt-6","current-page":a(y),"onUpdate:current-page":p[1]||(p[1]=s=>$(y)?y.value=s:null),"item-per-page":a(l).pagination.per_page,"total-items":a(l).pagination.total},null,8,["current-page","item-per-page","total-items"])):f("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{Fe as default};
