import{A as N,W as H,Z as tt,r as d,B as L,f as U,C as et,q as st,o as h,j as k,k as a,t as p,s as e,w as i,a4 as m,y as w,bo as y,G as n,H as S,m as j,g as W,p as at,x as ot,a2 as nt,Q as it,a3 as lt,a as rt,bP as ct,a6 as dt}from"./index.433ccf37.js";import{u as ut}from"./viewWrapper.5bc32d10.js";import{_ as pt,a as _t}from"./VFlexTable.284f6416.js";import{_ as mt}from"./VFlexPagination.763c2824.js";import{_ as ht}from"./VIconButton.05ed058b.js";import{A as V,_ as ft}from"./AccountantDashboard.01417c23.js";import{f as gt,a as bt,b as wt,c as yt}from"./index.bd8beb4a.js";import{_ as vt}from"./OtherDashboard.1738d2ad.js";import"./vue.runtime.esm-bundler.fde75113.js";import"./usersMockData.83c167ed.js";import"./VCard.14510b99.js";const xt={class:"business-dashboard company-dashboard"},St={class:"columns is-multiline"},Vt={class:"column is-6"},kt={class:"dashboard-card is-base-chart"},$t={class:"content-box is-flex"},Ct={class:"is-size-4"},Dt=a("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),Ot={class:"my-auto"},Yt={class:"column is-6"},Pt={class:"dashboard-card is-base-chart"},At={class:"content-box is-flex"},Bt={class:"is-size-4"},Mt={class:"my-auto"},Tt={class:"column is-6"},Ft={class:"dashboard-card is-base-chart"},zt={class:"content-box is-flex"},Lt={class:"is-size-4"},jt=a("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),Nt={class:"my-auto"},Ht={class:"column is-6"},Ut={class:"dashboard-card is-base-chart"},Wt={class:"content-box is-flex"},Jt={class:"is-size-4"},Et={class:"my-auto p-5"},Rt={key:0},qt=N({setup(J){const{t:s,locale:f}=H(),$=tt(),r=d({start:new Date,end:new Date}),C=d({type:"string",mask:"MM-YYYY"}),g=L(new Date().getFullYear()),D=L(g.value),E={code:{label:s("statement_code")},applicant:{label:s("applied_legal_entity")},drug:{label:s("drug_name")},date:{label:s("applied_at")},actions:{label:s("Actions"),align:"end"}},_=d({pagination:{current_page:1,per_page:10,total:10},result:[]}),v=U({get:()=>_.pagination.current_page,set:async t=>{await B(t)}}),O=d([]),Y=d({title:{text:""},chart:{height:290,type:"donut"},labels:[],responsive:[{breakpoint:480,options:{chart:{width:280,toolbar:{show:!1}},legend:{position:"top"}}}],legend:{position:"right",horizontalAlign:"center"},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0},value:{show:!0},total:{show:!0,showAlways:!0,label:s("Total_statements")}}}}}}),P=d([]),A=d({title:{text:""},chart:{height:290,type:"donut"},labels:[],responsive:[{breakpoint:480,options:{chart:{width:280,toolbar:{show:!1}},legend:{position:"top"}}}],legend:{position:"right",horizontalAlign:"center"},plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0},value:{show:!0},total:{show:!0,showAlways:!0,label:s("Total_statements")}}}}}}),b=d({series:[],chart:{height:280,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:t=>t.toLocaleString(),offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:[s("Jan"),s("Feb"),s("Mar"),s("Apr"),s("May"),s("Jun"),s("Jul"),s("Aug"),s("Sep"),s("Oct"),s("Nov"),s("Dec")],axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!0}},title:{text:"",align:"left"},tooltip:{y:{formatter:function(t){return t.toLocaleString()}}}});et(async()=>{await q(),await G(),await I(),await B()});function R(t){console.log({rowId:t}),$.push("/app/statements/"+t)}async function q(){const t=await gt();Object.assign(O,t.map(o=>o.applications)),Object.assign(Y.labels,t.map(o=>`${o.name}: ${o.applications}`))}async function G(){const t=await bt();b.series=[{name:s("Payment_sum"),data:t.map(o=>o.amount)}]}async function I(){const t=await wt();Object.assign(P,t.map(o=>o.applications)),Object.assign(A.labels,t.map(o=>`${o.name}: ${o.applications}`))}async function B(t=1){const o=await yt(t);Object.assign(_,o)}return(t,o)=>{const u=nt,M=it,x=lt,T=st("VDatePicker"),Q=ht,Z=pt,K=mt,X=_t;return h(),k("div",xt,[a("div",St,[a("div",Vt,[a("div",kt,[a("div",$t,[a("h1",Ct,p(t.$t("Statement_statuses")),1),e(T,{locale:n(f),class:"ml-auto",modelValue:n(r),"onUpdate:modelValue":o[0]||(o[0]=l=>S(r)?r.value=l:r=l),"is-range":"",color:"green","trim-weeks":"","model-config":n(C)},{default:i(({inputValue:l,inputEvents:c})=>[e(x,{addons:""},{default:i(()=>[e(u,{expanded:"",icon:"feather:corner-down-right"},{default:i(()=>[e(m,w({value:l.start},y(c.start)),null,16,["value"])]),_:2},1024),e(u,null,{default:i(()=>[e(M,{static:""},{default:i(()=>[Dt]),_:1})]),_:1}),e(u,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:i(()=>[e(m,w({value:l.end},y(c.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),a("div",Ot,[e(n(V),{id:"apex-chart-18",type:"donut",height:400,series:n(O),options:n(Y)},null,8,["series","options"])])])]),a("div",Yt,[a("div",Pt,[a("div",At,[a("h1",Bt,p(t.$t("Statement_payments")),1),e(x,{class:"ml-auto"},{default:i(()=>[e(u,null,{default:i(()=>[e(m,{type:"number",min:g.value-10,max:g.value,modelValue:D.value,"onUpdate:modelValue":o[1]||(o[1]=l=>D.value=l)},null,8,["min","max","modelValue"])]),_:1})]),_:1})]),a("div",Mt,[e(n(V),{id:"apex-chart-8",height:400,type:n(b).chart.type,series:n(b).series,options:n(b)},null,8,["type","series","options"])])])]),a("div",Tt,[a("div",Ft,[a("div",zt,[a("h1",Lt,p(t.$t("Statement_stages")),1),e(T,{locale:n(f),class:"ml-auto",modelValue:n(r),"onUpdate:modelValue":o[2]||(o[2]=l=>S(r)?r.value=l:r=l),"is-range":"",color:"green","trim-weeks":""},{default:i(({inputValue:l,inputEvents:c})=>[e(x,{addons:""},{default:i(()=>[e(u,{expanded:"",icon:"feather:corner-down-right"},{default:i(()=>[e(m,w({value:l.start},y(c.start)),null,16,["value"])]),_:2},1024),e(u,null,{default:i(()=>[e(M,{static:""},{default:i(()=>[jt]),_:1})]),_:1}),e(u,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:i(()=>[e(m,w({value:l.end},y(c.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue"])]),a("div",Nt,[e(n(V),{id:"apex-chart-18",type:"donut",height:400,series:n(P),options:n(A)},null,8,["series","options"])])])]),a("div",Ht,[a("div",Ut,[a("div",Wt,[a("h1",Jt,p(t.$t("Statement_latest")),1)]),a("div",Et,[e(X,{columns:n(E),data:n(_).result},{default:i(l=>[e(Z,{rounded:""},{"body-cell":i(({row:c,column:F,value:z,index:It})=>[F.key==="date"&&z?(h(),k("span",Rt,p(t.$h.formatDate(z,"HH:mm DD.MM.YYYY")),1)):j("",!0),F.key==="actions"?(h(),W(Q,{key:1,class:"ml-auto p-4",outlined:"",circle:"",color:"info",icon:"feather:eye",onClick:ot(Qt=>R(c.id),["prevent"])},{default:i(()=>[at(p(t.$t("View")),1)]),_:2},1032,["onClick"])):j("",!0)]),_:1}),e(K,{"current-page":n(v),"onUpdate:current-page":o[3]||(o[3]=c=>S(v)?v.value=c:null),class:"mt-6","item-per-page":n(_).pagination.per_page,"total-items":n(_).pagination.total},null,8,["current-page","item-per-page","total-items"])]),_:1},8,["columns","data"])])])])])])}}}),Gt={class:"page-content-inner"},re=N({setup(J){const{t:s}=H(),{user:f}=rt();ut().setPageTitle(s("Dashboard"));const r=U(()=>{switch(f?.role_id){case 1:case 2:case 3:return qt;case 4:case 5:case 6:return vt;case 7:return ft}});return ct({title:s("Dashboard")+" - Nefrit"}),(C,g)=>(h(),k("div",Gt,[(h(),W(dt(n(r))))]))}});export{re as default};
