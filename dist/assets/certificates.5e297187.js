import{_ as z,a as E}from"./VFlexTable.d90507e4.js";import{_ as I}from"./VFlexPagination.02f75ec8.js";import{_ as L}from"./VTag.74abb8c3.js";import{_ as O}from"./StatusTag.8b382d6b.js";import{_ as U}from"./VPlaceholderSection.e1f47c6a.js";import{_ as G}from"./VFlexTableToolbar.4957e235.js";import{z as A,V as J,bP as K,r as b,e as h,bO as Y,B as Q,p as V,o as r,i as c,q as e,w as n,E as o,G as D,x as $,bn as M,l as w,f as k,m as X,t as p,j as Z,a1 as tt,$ as et,P as at,a0 as nt}from"./index.38c372dc.js";import{l as ot}from"./lodash.89b0082e.js";import{f as st}from"./index.7c5d080b.js";import{u as rt}from"./viewWrapper.3aa9d6d6.js";const it={class:"applicant-list-wrapper"},lt=Z("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),_t={key:0,class:"flex-list-inner"},ct={key:1},dt={key:2},pt={key:3},mt={key:4},ut={key:6},Ct=A({setup(ft){const{t:l,locale:P}=J();K({title:l("Statements")+" - Nefrit"}),rt().setPageTitle(l("Statements"));const _=b({pagination:{current_page:1,per_page:10,total:10},result:[]}),f=h({get:()=>_.pagination.current_page,set:async t=>{await g(t)}}),T=b({type:"string",mask:"YYYY-MM-DD"}),m=h({get:()=>({start:Y().subtract(1,"month").format("YYYY-MM-DD"),end:Y().format("YYYY-MM-DD")}),set:async t=>{console.log({val:t}),ot.exports.isEmpty(t)||await g(1,{date_start:t.start,date_end:t.end})}}),C={number:{label:l("Sertificate_number")},application:{label:l("Statement")},drug:{label:l("drug_name")},drug_country:{label:l("drug_country")},created_at:{label:l("Created_at")},validity_date:{label:l("Validity_date")}};Q(async()=>{await g(1,{date_start:m.value.start,date_end:m.value.end})});async function g(t=1,d={date_start:"",date_end:""}){const u=await st({page:t,...d});Object.assign(_,u)}return(t,d)=>{const u=tt,y=et,S=at,x=nt,N=V("VDatePicker"),B=G,F=U,v=V("RouterLink"),H=O,R=L,W=z,j=I,q=E;return r(),c("div",it,[e(q,{columns:o(C),data:o(_).result,limit:o(_).pagination.per_page,total:o(_).pagination.total},{default:n(yt=>[e(B,null,{left:n(()=>[e(N,{locale:o(P),class:"ml-auto",modelValue:o(m),"onUpdate:modelValue":d[0]||(d[0]=s=>D(m)?m.value=s:null),"is-range":"",color:"green","trim-weeks":"","model-config":o(T)},{default:n(({inputValue:s,inputEvents:a})=>[e(x,{addons:""},{default:n(()=>[e(y,{expanded:"",icon:"feather:corner-down-right"},{default:n(()=>[e(u,$({value:s.start},M(a.start)),null,16,["value"])]),_:2},1024),e(y,null,{default:n(()=>[e(S,{static:""},{default:n(()=>[lt]),_:1})]),_:1}),e(y,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:n(()=>[e(u,$({value:s.end},M(a.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),e(W,{rounded:""},{body:n(()=>[o(_).result.length===0?(r(),c("div",_t,[e(F,{title:t.$t("No_data"),subtitle:t.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):w("",!0)]),"body-cell":n(({row:s,column:a,value:i,index:kt})=>[a.key==="application"?(r(),k(v,{key:0,to:`/app/statements/${i.id}`},{default:n(()=>[X(p(i?.code),1)]),_:2},1032,["to"])):a.key==="drug"?(r(),c("span",ct,p(i?.name),1)):a.key==="drug_country"?(r(),c("span",dt,p(s.drug?.country?.name),1)):a.key==="created_at"&&i?(r(),c("span",pt,p(t.$h.formatDate(i,"HH:mm DD.MM.YYYY")),1)):a.key==="validity_date"?(r(),c("span",mt,p(t.$h.formatDate(s.start_date,"DD.MM.YYYY")+" - "+t.$h.formatDate(s.end_date,"DD.MM.YYYY")),1)):a.key==="status"?(r(),k(H,{key:5,status:i},null,8,["status"])):a.key==="stage"?(r(),c("span",ut,p(i.name),1)):a.key==="is_paid"?(r(),k(R,{key:7,class:"is-size-6",color:i?"primary":"warning",rounded:"",label:i?t.$t("Paid"):t.$t("Not_Paid")},null,8,["color","label"])):w("",!0)]),_:1}),e(j,{class:"mt-6","current-page":o(f),"onUpdate:current-page":d[1]||(d[1]=s=>D(f)?f.value=s:null),"item-per-page":o(_).pagination.per_page,"total-items":o(_).pagination.total},null,8,["current-page","item-per-page","total-items"])]),_:1},8,["columns","data","limit","total"])])}}});export{Ct as default};
