import{_ as le}from"./VTabs.vue_vue_type_script_setup_true_lang.51ffbe80.js";import{_ as ie,a as ce}from"./VFlexTable.vue_vue_type_style_index_0_lang.d0133d2a.js";import{_ as de}from"./VFlexPagination.4ad8009f.js";import{_ as G}from"./VTag.vue_vue_type_script_setup_true_lang.ec4a8308.js";import{_ as re}from"./StatusTag.vue_vue_type_script_setup_true_lang.bf23912b.js";import{_ as ue}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.0e585ba4.js";import{z as T,M as Z,Z as me,a as _e,N as Y,r as O,e as J,bv as pe,p as K,o as d,i as g,q as s,w as o,E as t,l as v,t as l,f as y,m as S,G as fe,bP as be,A as U,j as e,v as H,a2 as Q,a3 as X,P as ee,b as he,B as ve,a4 as ye,O as ge}from"./index.b7e98af4.js";import{f as ke,b as Ve,a as $e,u as L,v as we,c as Ce}from"./index.ae45a4a8.js";import{_ as Se}from"./ConfirmActionModal.vue_vue_type_script_setup_true_lang.dce3b8a4.js";import{_ as xe}from"./VCheckbox.vue_vue_type_style_index_0_lang.95e72d01.js";import{_ as te}from"./VTextarea.b15b3f51.js";import{_ as Ae}from"./VBlock.vue_vue_type_style_index_0_lang.cdec5126.js";import{u as Be}from"./index.c559e891.js";import{_ as Ue}from"./CountrySelect.vue_vue_type_style_index_0_lang.047f48a0.js";import{_ as Me}from"./VModal.vue_vue_type_style_index_0_lang.b79e53f5.js";import{u as qe}from"./viewWrapper.d9abd62c.js";import"./VIcon.vue_vue_type_script_setup_true_lang.fc7bb1c3.js";import"./VFlex.vue_vue_type_style_index_0_lang.74d0a329.js";import"./VOption.vue_vue_type_style_index_0_lang.461b001c.js";import"./lodash.80e51239.js";const Fe={key:0,class:"flex-list-inner"},De={key:0},Ie={key:1},Ne=["onClick"],je=T({props:{data:{type:Object,default:()=>({pagination:{},result:[]})}},emits:["update:data"],async setup(F,{emit:f}){let D,x;const A=F,b=Z(),a=me(),{userRoleID:_}=_e(),{t:r,locale:p}=Y(),i=O(A.data),m=J({get:()=>i.pagination.current_page,set:async h=>{await B(h)}}),M={uuid:{label:r("statement_code")},drug:{label:r("drug_name")},date:{label:r("applied_at")},status:r("Status"),stage:{label:r("Stage"),grow:!0},actions:{label:r("Actions"),align:"center"}},q=b.params?.id??null;[D,x]=pe(()=>B()),await D,x();async function B(h=1){const V=await ke(q,h);Object.assign(i,V)}function N(h){const V=be.gotoStatementPage(h,_);a.push(V)}return(h,V)=>{const P=ue,z=re,E=G,W=K("VueIconify"),R=ie,c=de,n=ce;return d(),g("div",null,[s(n,{columns:t(M),data:t(i).result,limit:t(i).pagination.per_page,total:t(i).pagination.total},{default:o(I=>[s(R,{rounded:""},{body:o(()=>[t(i).result.length===0?(d(),g("div",Fe,[s(P,{title:h.$t("No_data"),subtitle:h.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):v("",!0)]),"body-cell":o(({row:j,column:$,value:k,index:w})=>[$.key==="drug"?(d(),g("span",De,l(k.name),1)):$.key==="date"?(d(),g("span",Ie,l(h.$h.formatDate(k,"HH:mm DD.MM.YYYY")),1)):$.key==="status"?(d(),y(z,{key:2,status:k},null,8,["status"])):$.key==="stage"?(d(),y(E,{key:3,class:"is-size-6",rounded:"",color:"info"},{default:o(()=>[S(l(k.name),1)]),_:2},1024)):$.key==="actions"?(d(),g("a",{key:4,href:"javascript:;",onClick:C=>N(j.id)},[s(W,{icon:"feather:eye",class:"has-text-primary",height:"1.5rem"})],8,Ne)):v("",!0)]),_:1}),t(i).result?.length?(d(),y(c,{key:0,class:"mt-6","current-page":t(m),"onUpdate:current-page":V[0]||(V[0]=j=>fe(m)?m.value=j:null),"item-per-page":t(i).pagination.per_page,"total-items":t(i).pagination.total},null,8,["current-page","item-per-page","total-items"])):v("",!0)]),_:1},8,["columns","data","limit","total"])])}}}),Oe=["onSubmit"],Te={class:"columns is-multiline"},Ye={class:"column is-12"},Pe={class:"help has-text-danger"},ze=T({props:{modelValue:Boolean,itemId:{type:Number,default:null}},emits:["update:modelValue","update:list"],setup(F,{emit:f}){const D=F,{t:x}=Y();let A=U(x("Block_applicant"));const b=U(""),a=O({block_reason:""});async function _(i){try{await Ve(D.itemId,{block_reason:b.value}),f("update:list"),r()}catch(m){Object.assign(a,m.response?.data?.errors)}}function r(){b.value="",Object.assign(a,{block_reason:""}),f("update:modelValue",!1)}function p(i){a[i.target.name]=""}return(i,m)=>{const M=te,q=Q,B=X,N=ee,h=Me;return d(),y(h,{open:F.modelValue,size:"large",title:t(A),actions:"right",onClose:r},{content:o(()=>[e("form",{id:"block-applicant-form",class:"modal-form",onSubmit:H(_,["prevent"])},[e("div",Te,[e("div",Ye,[s(B,{label:i.$t("block_reason"),required:""},{default:o(()=>[s(q,{"has-error":t(a).block_reason[0]},{default:o(()=>[s(M,{name:"block_reason",placeholder:i.$t("Add_text"),modelValue:b.value,"onUpdate:modelValue":m[0]||(m[0]=V=>b.value=V),onInput:p},null,8,["placeholder","modelValue"]),e("p",Pe,l(t(a).block_reason[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,Oe)]),action:o(({close:V})=>[s(N,{color:"danger",outlined:"",type:"submit",form:"block-applicant-form"},{default:o(()=>[S(l(i.$t("Block")),1)]),_:1})]),_:1},8,["open","title"])}}}),Ee={class:"form-layout is-separate"},We={class:"form-outer"},Re={class:"form-body"},He=["onSubmit"],Le={class:"form-section-inner has-padding-bottom"},Ge={class:"has-text-centered"},Ze={class:"columns is-multiline"},Je={class:"column is-12 mb-3"},Ke={class:"help has-text-danger"},Qe={class:"column is-12 mb-3"},Xe={class:"help has-text-danger"},et={class:"column is-12 mb-3"},tt={class:"help has-text-danger"},at={class:"column is-12 mb-3"},st={class:"help has-text-danger"},ot={class:"column is-12 is-flex"},nt=["onSubmit"],lt={class:"form-section-inner has-padding-bottom"},it={class:"has-text-centered"},ct={class:"columns is-multiline"},dt={class:"column is-12 mb-3"},rt={class:"help has-text-danger"},ut={class:"column is-6 mb-3"},mt={class:"help has-text-danger"},_t={class:"column is-6 mb-3"},pt={class:"column is-6 mb-3"},ft={class:"column is-12 mb-3"},bt={class:"help has-text-danger"},ht={class:"column is-12"},vt={class:"column is-12 is-flex"},yt={class:"form-section"},gt={class:"form-section-inner has-padding-bottom"},kt={class:"has-text-centered"},Vt={class:"columns is-multiline"},$t={class:"column is-12 mb-3"},wt={class:"table is-hoverable is-bordered is-fullwidth"},Ct={key:0},St={class:"has-text-weight-bold"},xt={class:"name dark-inverted"},At={key:1},Bt={class:"has-text-weight-bold"},Ut={class:"name dark-inverted"},Mt=["textContent"],qt={key:2},Ft={class:"has-text-weight-bold"},Dt={class:"name dark-inverted"},It=["textContent"],Nt={key:3},jt={class:"has-text-weight-bold"},Ot={class:"name dark-inverted"},Tt=["textContent"],Yt=T({setup(F){const{t:f,locale:D}=Y(),x=Z(),A=Be(),b=x.params?.id??"",a=O({}),_=U(!1),r=U(!1),p=O({boss_name:"",phone:"",fax:"",website:"",email:"",name:"",country:"",address:"",is_national:""}),i=U(!1),m=he(),M=U(!1),q=U(Function);ve(async()=>{await B()});async function B(){const c=await $e(Number(b));Object.assign(a,c)}async function N(c){try{i.value=!0;const n=await L(Number(b),a);Object.assign(a,n),_.value=!1,m.dismissAll(),m.success(f("Updated_successfully"))}catch(n){Object.assign(p,n.response?.data?.errors)}finally{i.value=!1}}async function h(c){try{i.value=!0;const n=await L(Number(b),a);Object.assign(a,n),r.value=!1,m.dismissAll(),m.success(f("Updated_successfully"))}catch(n){Object.assign(p,n.response?.data?.errors)}finally{i.value=!1}}async function V(){await q.value(Number(b)),await B()}async function P(){q.value=we,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}function z(){_.value=!_.value}function E(){r.value=!r.value}function W(){M.value=!0}async function R(){q.value=Ce,A.$patch({confirmModalState:!0,confirmModalOkButtonColor:"success"})}return(c,n)=>{const I=ee,j=Ae,$=K("VueIconify"),k=ye,w=Q,C=X,ae=te,se=xe,oe=G,ne=Se;return d(),g("div",null,[e("div",Ee,[s(j,{title:"",center:""},{action:o(()=>[t(a).blocked_at?v("",!0):(d(),y(I,{key:0,type:"button",class:"mr-3",outlined:"",color:"danger",icon:"fas fa-ban",onClick:W},{default:o(()=>[S(l(c.$t("Block")),1)]),_:1})),t(a).blocked_at?(d(),y(I,{key:1,type:"button",class:"mr-3",outlined:"",color:"warning",icon:"fas fa-ban",onClick:R},{default:o(()=>[S(l(c.$t("Unblock")),1)]),_:1})):v("",!0),t(a).verified_at?v("",!0):(d(),y(I,{key:2,type:"button",class:"mr-3",outlined:"",color:"primary",icon:"fas fa-check-double",onClick:P},{default:o(()=>[S(l(c.$t("Verify")),1)]),_:1}))]),_:1}),e("div",We,[e("div",Re,[e("form",{id:"first-block-form",class:"form-section",onSubmit:H(N,["prevent"])},[e("div",Le,[e("h3",Ge,[S(l(t(f)("Applicant_details"))+" ",1),e("a",{href:"javascript:;",onClick:z,class:"edit-btn ml-5"},[_.value?(d(),y($,{key:1,icon:"feather:x"})):(d(),y($,{key:0,icon:"feather:edit-2"}))])]),e("div",Ze,[e("div",Je,[s(C,{required:"",label:c.$t("Boss_name")},{default:o(()=>[s(w,{icon:"feather:user"},{default:o(()=>[s(k,{disabled:!_.value,type:"text",name:"boss_name",modelValue:t(a).boss_name,"onUpdate:modelValue":n[0]||(n[0]=u=>t(a).boss_name=u),placeholder:"",autocomplete:"boss-name"},null,8,["disabled","modelValue"]),e("p",Ke,l(t(p).boss_name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",Qe,[s(C,{required:"",label:c.$t("Applicant_phone_number")},{default:o(()=>[s(w,{icon:"feather:phone",required:""},{default:o(()=>[s(k,{disabled:!_.value,type:"tel",name:"phone",modelValue:t(a).phone,"onUpdate:modelValue":n[1]||(n[1]=u=>t(a).phone=u),autocomplete:"applicant-name"},null,8,["disabled","modelValue"]),e("p",Xe,l(t(p).phone[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",et,[s(C,{required:"",label:c.$t("Website")},{default:o(()=>[s(w,{icon:"feather:globe",required:""},{default:o(()=>[s(k,{disabled:!_.value,type:"text",name:"website",modelValue:t(a).website,"onUpdate:modelValue":n[2]||(n[2]=u=>t(a).website=u),autocomplete:"website-name"},null,8,["disabled","modelValue"]),e("p",tt,l(t(p).website[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",at,[s(C,{required:"",label:c.$t("Email_address")},{default:o(()=>[s(w,{icon:"feather:mail",required:""},{default:o(()=>[s(k,{disabled:!_.value,type:"email",name:"email",modelValue:t(a).email,"onUpdate:modelValue":n[3]||(n[3]=u=>t(a).email=u),autocomplete:"email",inputmode:"email"},null,8,["disabled","modelValue"]),e("p",st,l(t(p).email[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",ot,[_.value?(d(),y(I,{key:0,loading:i.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"first-block-form",disabled:i.value},{default:o(()=>[S(l(c.$t("Save")),1)]),_:1},8,["loading","disabled"])):v("",!0)])])])],40,He),e("form",{id:"second-block-form",class:"form-section",onSubmit:H(h,["prevent"])},[e("div",lt,[e("h3",it,[S(l(t(f)("Company_information"))+" ",1),e("a",{href:"javascript:;",onClick:E,class:"edit-btn ml-5"},[r.value?(d(),y($,{key:1,icon:"feather:x"})):(d(),y($,{key:0,icon:"feather:edit-2"}))])]),e("div",ct,[e("div",dt,[s(C,{required:"",label:c.$t("Company_name")},{default:o(()=>[s(w,{icon:"feather:briefcase",required:""},{default:o(()=>[s(k,{disabled:!r.value,modelValue:t(a).name,"onUpdate:modelValue":n[4]||(n[4]=u=>t(a).name=u),autocomplete:"company_name"},null,8,["disabled","modelValue"]),e("p",rt,l(t(p).name[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",ut,[s(C,{label:c.$t("Company_fax")},{default:o(()=>[s(w,{icon:"feather:printer",required:""},{default:o(()=>[s(k,{disabled:!r.value,modelValue:t(a).fax,"onUpdate:modelValue":n[5]||(n[5]=u=>t(a).fax=u),autocomplete:"tel",inputmode:"tel"},null,8,["disabled","modelValue"]),e("p",mt,l(t(p).fax[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",_t,[s(Ue,{disabled:!r.value,modelValue:t(a).country_id,"onUpdate:modelValue":n[6]||(n[6]=u=>t(a).country_id=u),required:""},null,8,["disabled","modelValue"])]),e("div",pt,[s(C,{label:c.$t("stir")},{default:o(()=>[s(w,{icon:"fas fa-hashtag"},{default:o(()=>[s(k,{disabled:"",value:t(a).inn},null,8,["value"])]),_:1})]),_:1},8,["label"])]),e("div",ft,[s(C,{required:"",label:c.$t("Address")},{default:o(()=>[s(w,null,{default:o(()=>[s(ae,{modelValue:t(a).address,"onUpdate:modelValue":n[7]||(n[7]=u=>t(a).address=u),rows:2},null,8,["modelValue"]),e("p",bt,l(t(p).address[0]),1)]),_:1})]),_:1},8,["label"])]),e("div",ht,[s(w,{raw:"",subcontrol:""},{default:o(()=>[s(se,{class:"pl-1",modelValue:t(a).is_national,"onUpdate:modelValue":n[8]||(n[8]=u=>t(a).is_national=u),label:c.$t("isNational"),color:"primary","true-value":1,"false-value":0,disabled:!r.value},null,8,["modelValue","label","disabled"])]),_:1})]),e("div",vt,[r.value?(d(),y(I,{key:0,loading:i.value,class:"ml-auto",outlined:"",color:"success",icon:"fas fa-save",type:"submit",form:"second-block-form",disabled:i.value},{default:o(()=>[S(l(c.$t("Save")),1)]),_:1},8,["loading","disabled"])):v("",!0)])])])],40,nt),e("div",yt,[e("div",gt,[e("h3",kt,l(t(f)("Applicant_status")),1),e("div",Vt,[e("div",$t,[e("table",wt,[e("tbody",null,[t(a).status?(d(),g("tr",Ct,[e("td",St,[e("div",xt,l(c.$t("Status")),1)]),e("td",null,[s(oe,{color:t(a).status.color,rounded:"",textContent:l(t(a).status?.name)},null,8,["color","textContent"])])])):v("",!0),t(a).verified_at?(d(),g("tr",At,[e("td",Bt,[e("div",Ut,l(c.$t("verified_at")),1)]),e("td",null,[e("span",{class:"has-text-primary is-size-6",textContent:l(c.$h.formatDate(t(a).verified_at,"DD.MM.YYYY"))},null,8,Mt)])])):v("",!0),t(a).block_reason?(d(),g("tr",qt,[e("td",Ft,[e("div",Dt,l(c.$t("block_reason")),1)]),e("td",null,[e("span",{color:"danger is-size-6",textContent:l(t(a).block_reason)},null,8,It)])])):v("",!0),t(a).blocked_at?(d(),g("tr",Nt,[e("td",jt,[e("div",Ot,l(c.$t("blocked_at")),1)]),e("td",null,[e("span",{class:"has-text-danger is-size-6",textContent:l(c.$h.formatDate(t(a).blocked_at,"DD.MM.YYYY"))},null,8,Tt)])])):v("",!0)])])])])])])])])]),s(ne,{onConfirmAction:V}),s(ze,{modelValue:M.value,"onUpdate:modelValue":n[9]||(n[9]=u=>M.value=u),"item-id":Number(t(b)),"onUpdate:list":B},null,8,["modelValue","item-id"])])}}});const Pt={class:"applicant-detail-wrapper"},zt={key:0,class:"mt-5"},Et={key:1,class:"mt-5"},ra=T({setup(F){const{t:f,locale:D}=Y(),x=U(),A=O([{label:f("Applicant_details"),value:"details",icon:"feather:info"},{label:f("Statements"),value:"statements",icon:"feather:file-text"}]);return qe().setPageTitle(f("Applicant_Info")),ge({title:J(()=>x.value?.title??"Loading applicant...")}),(a,_)=>{const r=Yt,p=je,i=le;return d(),g("div",Pt,[s(i,{selected:"details",tabs:t(A)},{tab:o(({activeValue:m})=>[m==="details"?(d(),g("div",zt,[s(r)])):m==="statements"?(d(),g("div",Et,[s(p)])):v("",!0)]),_:1},8,["tabs"])])}}});export{ra as default};
