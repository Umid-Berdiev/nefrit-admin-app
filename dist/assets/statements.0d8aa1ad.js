import{_ as E,a as I}from"./VFlexTable.vue_vue_type_style_index_0_lang.c051e93d.js";import{_ as O}from"./VFlexPagination.65c84f8f.js";import{_ as U}from"./VIconButton.vue_vue_type_script_lang.436b8e7b.js";import{_ as A}from"./VTag.vue_vue_type_style_index_0_lang.4aa10b1e.js";import{_ as G}from"./StatusTag.vue_vue_type_script_setup_true_lang.65f1d61d.js";import{_ as J}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang.bf0704b9.js";import{c as K,_ as L}from"./index.8e3996f0.js";import{z as Q,V as X,bP as Z,r as b,Y as ee,e as V,bO as Y,B as te,p as ae,o as r,i as p,q as t,w as n,E as a,G as w,x as $,bm as D,l as g,t as m,f,m as ne,v as oe,j as se,a3 as re,a1 as le,P as ie,a2 as _e}from"./index.47e107ef.js";import{l as ce}from"./lodash.73e73cb6.js";import{u as pe}from"./viewWrapper.45a25a95.js";import"./VFlex.vue_vue_type_style_index_0_lang.99038368.js";const de={class:"applicant-list-wrapper"},me=se("i",{class:"fas fa-angle-double-right","aria-hidden":"true"},null,-1),ue={key:0,class:"flex-list-inner"},ge={key:0},fe={key:1},ye={key:2},ke={key:4},Fe=Q({setup(he){const{t:o,locale:P}=X();Z({title:o("Statement_report")+" - Nefrit"}),pe().setPageTitle(o("Statement_report"));const l=b({pagination:{current_page:1,per_page:10,total:10},result:[]}),M=ee(),y=V({get:()=>l.pagination.current_page,set:async e=>{await k(e)}}),S=b({type:"string",mask:"YYYY-MM-DD"}),d=V({get:()=>({start:Y().subtract(1,"month").format("YYYY-MM-DD"),end:Y().format("YYYY-MM-DD")}),set:async e=>{console.log({val:e}),ce.exports.isEmpty(e)||await k(1,{date_start:e.start,date_end:e.end})}}),T={code:{label:o("statement_code")},legal_entity:{label:o("applied_legal_entity")},drug:{label:o("drug_name")},status:o("Status"),stage:{label:o("Stage")},is_paid:{label:o("Payment_status")},date:{label:o("applied_at")},actions:{label:o("Actions"),align:"center"}};te(async()=>{await k(1,{date_start:d.value.start,date_end:d.value.end})});async function k(e=1,c={date_start:"",date_end:""}){const u=await K({page:e,...c});Object.assign(l,u)}function x(e){console.log({rowId:e}),M.push("/app/statements/"+e)}return(e,c)=>{const u=re,h=le,C=ie,B=_e,N=ae("VDatePicker"),v=L,F=J,H=G,W=A,R=U,j=E,q=O,z=I;return r(),p("div",de,[t(z,{columns:a(T),data:a(l).result,limit:a(l).pagination.per_page,total:a(l).pagination.total},{default:n(Ve=>[t(v,null,{left:n(()=>[t(N,{locale:a(P),class:"ml-auto",modelValue:a(d),"onUpdate:modelValue":c[0]||(c[0]=i=>w(d)?d.value=i:null),"is-range":"",color:"green","trim-weeks":"","model-config":a(S)},{default:n(({inputValue:i,inputEvents:s})=>[t(B,{addons:""},{default:n(()=>[t(h,{expanded:"",icon:"feather:corner-down-right"},{default:n(()=>[t(u,$({value:i.start},D(s.start)),null,16,["value"])]),_:2},1024),t(h,null,{default:n(()=>[t(C,{static:""},{default:n(()=>[me]),_:1})]),_:1}),t(h,{expanded:"",icon:"feather:corner-right-up",subcontrol:""},{default:n(()=>[t(u,$({value:i.end},D(s.end)),null,16,["value"])]),_:2},1024)]),_:2},1024)]),_:1},8,["locale","modelValue","model-config"])]),_:1}),t(j,{rounded:""},{body:n(()=>[a(l).result.length===0?(r(),p("div",ue,[t(F,{title:e.$t("No_data"),subtitle:e.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):g("",!0)]),"body-cell":n(({row:i,column:s,value:_,index:Ye})=>[s.key==="legal_entity"?(r(),p("span",ge,m(_?.name),1)):s.key==="drug"?(r(),p("span",fe,m(_?.name),1)):s.key==="date"&&_?(r(),p("span",ye,m(e.$h.formatDate(_,"HH:mm DD.MM.YYYY")),1)):s.key==="status"?(r(),f(H,{key:3,status:_},null,8,["status"])):s.key==="stage"?(r(),p("span",ke,m(_.name),1)):s.key==="is_paid"?(r(),f(W,{key:5,class:"is-size-6",color:_?"primary":"warning",rounded:"",label:_?e.$t("Paid"):e.$t("Not_Paid")},null,8,["color","label"])):g("",!0),s.key==="actions"?(r(),f(R,{key:6,class:"p-4",outlined:"",circle:"",color:"info",icon:"feather:eye",onClick:oe(we=>x(i.id),["prevent"])},{default:n(()=>[ne(m(e.$t("View")),1)]),_:2},1032,["onClick"])):g("",!0)]),_:1}),a(l).result.length?(r(),f(q,{key:0,class:"mt-6","current-page":a(y),"onUpdate:current-page":c[1]||(c[1]=i=>w(y)?y.value=i:null),"item-per-page":a(l).pagination.per_page,"total-items":a(l).pagination.total},null,8,["current-page","item-per-page","total-items"])):g("",!0)]),_:1},8,["columns","data","limit","total"])])}}});export{Fe as default};
