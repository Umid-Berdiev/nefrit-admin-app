import{_ as Ae}from"./VTabs.c0749178.js";import{_ as Be}from"./MessagingV1.56650cef.js";import{a as oe,u as $e,_ as be}from"./VPlaceholderSection.2f3a5682.js";import{A,r as Z,a9 as je,B as V,E as le,o,g as N,w as d,X as Oe,Y as Ye,k as e,y as de,G as n,i as Q,p as U,t,ac as Te,ad as Re,l as se,bS as Pe,W as q,s,x as T,a2 as re,a3 as ue,Q as K,j as p,v as ee,m as F,O as ye,F as R,bT as we,P as te,bw as ne,bA as Ee,$ as Ve,f as ie,b as me,H as ke,N as Ce,C as _e,q as pe,bo as ve,bX as ge,a4 as qe,bd as ze,bb as Le,bP as We}from"./index.433ccf37.js";import{_ as Ge}from"./VTextarea.61fe4cf8.js";import{y as He,z as Ke,A as Xe,B as Je,C as Qe,D as Ze,E as et,F as tt,G as at,H as st,I as nt,l as ot,J as lt,m as it}from"./index.bd8beb4a.js";import{_ as Se}from"./VAvatar.68b610bb.js";import{_ as De}from"./ConfirmActionModal.97a9d993.js";import{a as ct,_ as dt,b as rt}from"./ConclusionFormModal.3f1572ef.js";import{b as he,_ as xe,a as Ne}from"./VFlexTable.284f6416.js";import{_ as Me}from"./VFlexPagination.763c2824.js";import{_ as ut}from"./StatusTag.a13087bb.js";import{_ as Ie}from"./VFlexItem.0a7b51f8.js";import{a as mt}from"./index.1b3a1c5a.js";import{_ as _t}from"./VFileInput.4f9e647b.js";import{_ as pt}from"./ListWidgetSingle.ab1f350c.js";import{_ as Fe}from"./VTag.9c6106fb.js";import{u as ht}from"./viewWrapper.5bc32d10.js";import"./lodash.2d29e061.js";import"./via-placeholder.9af8280d.js";import"./VOption.38efc069.js";const ft=["id","value","name"],vt=e("span",null,null,-1),gt=A({props:{id:{default:void 0},value:null,modelValue:{default:void 0},name:{default:void 0},label:{default:void 0},color:{default:void 0},square:{type:Boolean},solid:{type:Boolean},paddingless:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:f}){const a=u,m=Z(je({id:a.id,inherit:!1})),i=V(m?.field?.value??a.modelValue);return le(i,()=>{f("update:modelValue",i.value)}),le(()=>a.modelValue,()=>{i.value=a.modelValue}),(l,g)=>{const k=Pe;return o(),N(k,{raw:"",class:se(["radio",[a.solid?"is-solid":"is-outlined",a.square&&"is-square",a.color&&`is-${a.color}`,a.paddingless&&"is-paddingless"]])},{default:d(()=>[Oe(e("input",de({id:n(m).id,"onUpdate:modelValue":g[0]||(g[0]=r=>i.value=r),type:"radio",value:a.value,name:a.name},l.$attrs),null,16,ft),[[Ye,i.value]]),vt,Q(l.$slots,"default",Te(Re(n(m))),()=>[U(t(a.label),1)])]),_:3},8,["class"])}}}),$t=["onSubmit"],bt={class:"columns is-multiline"},yt={class:"column is-12 is-flex is-justify-content-center"},wt={class:"column is-12"},Vt={class:"help has-text-danger"},kt=A({props:{modelValue:{type:Boolean},item:null,selectedAnswer:{default:0},parentId:null},emits:["update:modelValue","update:list"],setup(u,{emit:f}){const a=u,{t:m}=q();let i=V(m("Add_vote"));const l=Z({description:"",value:0}),g=Z({description:"",vote:""});le(()=>a.selectedAnswer,_=>{l.value=_},{deep:!0,immediate:!0}),le(()=>a.item,_=>{_&&(l.description=_.description,l.value=_.value)},{deep:!0,immediate:!0});async function k(){try{const _={description:l.description,value:l.value};await He(a.parentId,_),f("update:list"),r()}catch(_){Object.assign(g,_.response?.data?.errors)}}function r(){Object.assign(g,{description:"",value:""}),f("update:modelValue",!1)}function S(_){g[_.target.name]=""}return(_,y)=>{const h=gt,v=re,C=ue,x=Ge,B=K,j=oe;return o(),N(j,{open:u.modelValue,size:"large",title:n(i),actions:"right",onClose:r},{content:d(()=>[e("form",{id:"feedback-form",class:"modal-form",onSubmit:T(k,["prevent"])},[e("div",bt,[e("div",yt,[s(C,{grouped:""},{default:d(()=>[s(v,null,{default:d(()=>[s(h,{modelValue:n(l).value,"onUpdate:modelValue":y[0]||(y[0]=w=>n(l).value=w),value:1,label:_.$t("Accept"),name:"outlined_radio",color:"primary"},null,8,["modelValue","label"])]),_:1})]),_:1}),s(C,{grouped:""},{default:d(()=>[s(v,null,{default:d(()=>[s(h,{modelValue:n(l).value,"onUpdate:modelValue":y[1]||(y[1]=w=>n(l).value=w),value:0,label:_.$t("Reject"),name:"outlined_radio",color:"warning"},null,8,["modelValue","label"])]),_:1})]),_:1})]),e("div",wt,[s(C,{label:_.$t("Comment"),required:""},{default:d(()=>[s(v,{"has-error":n(g).description[0]},{default:d(()=>[s(x,{name:"description",placeholder:_.$t("Add_comment"),modelValue:n(l).description,"onUpdate:modelValue":y[2]||(y[2]=w=>n(l).description=w),onInput:S},null,8,["placeholder","modelValue"]),e("p",Vt,t(n(g).description[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])])])],40,$t)]),action:d(({close:w})=>[s(B,{color:"primary",outlined:"",type:"submit",form:"feedback-form"},{default:d(()=>[U(t(_.$t("Save")),1)]),_:1})]),_:1},8,["open","title"])}}});const Ct=["open"],St=["onKeydown","onClick"],Dt={class:"collapse-icon"},xt={class:"collapse-content"},Nt=A({props:{items:{default:()=>[]},itemOpen:{default:void 0},withChevron:{type:Boolean}},setup(u){const a=V(u.itemOpen),m=i=>{if(a.value===i){a.value=void 0;return}a.value=i};return(i,l)=>{const g=we;return o(!0),p(R,null,ee(u.items,(k,r)=>(o(),p("details",{key:r,class:se([[u.withChevron&&"has-chevron",!u.withChevron&&"has-plus"],"collapse"]),open:a.value===r||void 0},[Q(i.$slots,"collapse-item",{item:k,index:r,toggle:m},()=>[e("summary",{class:"collapse-header",tabindex:"0",onKeydown:ye(T(()=>m(r),["prevent"]),["space"]),onClick:T(()=>m(r),["prevent"])},[e("h3",null,[Q(i.$slots,"collapse-item-summary",{item:k,index:r,toggle:m},()=>[U(t(k.title),1)])]),e("div",Dt,[u.withChevron?(o(),N(g,{key:0,icon:"feather:chevron-down"})):u.withChevron?F("",!0):(o(),N(g,{key:1,icon:"feather:plus"}))])],40,St),e("div",xt,[e("p",null,[Q(i.$slots,"collapse-item-content",{item:k,index:r,toggle:m},()=>[U(t(k.content),1)])])])])],10,Ct))),128)}}});const Mt={class:"container"},It={class:"company-header is-dark-card-bordered is-dark-bg-6"},Ft={class:"header-item is-dark-bordered-12"},Ut={class:"item-inner"},At={class:"dark-inverted"},Bt={class:"header-item is-dark-bordered-12"},jt={class:"item-inner"},Ot={class:"dark-inverted"},Yt={class:"header-item is-dark-bordered-12"},Tt={class:"item-inner"},Rt={class:"dark-inverted"},Pt={class:"header-item is-dark-bordered-12"},Et={class:"item-inner"},qt={class:"dark-inverted"},zt={class:"user-grid user-grid-v1"},Lt={class:"dark-inverted"},Wt={key:0,class:"is-grouped mt-5"},Gt={class:"icon"},Ht=["data-icon"],Kt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})],-1),Xt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})],-1),Jt=e("span",{class:"icon"},[e("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"})],-1),Qt={key:0,class:"is-grouped mt-5"},Zt={class:"icon"},ea=["data-icon"],ta={key:1,class:"is-grouped mt-5"},aa=A({async setup(u){let f,a;const m=te();q();const i=m.params?.id??null;V([]);const l=V(!1),g=V(),k=V(),r=V();[f,a]=ne(()=>_()),await f,a(),[f,a]=ne(()=>y()),await f,a();function S(h){l.value=!0,g.value=h}async function _(){const h=await Ke(Number(i));k.value=h}async function y(){const h=await Xe(Number(i));r.value=h}return(h,v)=>{const C=Se,x=K,B=Nt,j=kt;return o(),p("div",Mt,[e("div",It,[e("div",Ft,[e("div",Ut,[e("span",At,t(r.value?.voted),1),e("p",null,t(h.$t("Total_voted")),1)])]),e("div",Bt,[e("div",jt,[e("span",Ot,t(r.value?.agree),1),e("p",null,t(h.$t("Accepted")),1)])]),e("div",Yt,[e("div",Tt,[e("span",Rt,t(r.value?.disagre),1),e("p",null,t(h.$t("Rejected")),1)])]),e("div",Pt,[e("div",Et,[e("span",qt,t(r.value?.didnt_vote),1),e("p",null,t(h.$t("Not_voted")),1)])])]),e("div",zt,[s(Ee,{name:"list",tag:"div",class:"columns is-multiline"},{default:d(()=>[(o(!0),p(R,null,ee(k.value,(w,O)=>(o(),p("div",{key:O,class:"column is-4"},[e("div",{class:se(["grid-item",{"is-active":w.is_me}])},[s(C,{picture:w.user?.avatar,size:"xl"},null,8,["picture"]),e("h3",Lt,t(w.user?.firstname+" "+w.user?.lastname),1),e("p",null,t(w.user?.department),1),w.is_me===!0?(o(),p("div",Wt,[w.vote?(o(),p(R,{key:0},[s(x,{color:w.vote.value===1?"success":"danger",style:{width:"80%"},class:"is-justify-content-center mr-3"},{default:d(()=>[e("span",Gt,[e("i",{"aria-hidden":"true",class:"iconify","data-icon":w.vote.value===1?"feather:check":"feather:x"},null,8,Ht)]),e("span",null,t(w.vote.value===1?h.$t("Accepted"):h.$t("Rejected")),1)]),_:2},1032,["color"]),s(x,{color:"warning",style:{width:"10%"},class:"is-justify-content-center",onClick:v[0]||(v[0]=D=>S(0))},{default:d(()=>[Kt]),_:1}),s(B,{class:"mt-5",items:[{title:h.$t("Description"),content:w.vote.description}],"with-chevron":""},null,8,["items"])],64)):(o(),p(R,{key:1},[s(x,{color:"success",style:{width:"45%"},class:"is-justify-content-center mr-3",onClick:v[1]||(v[1]=D=>S(1))},{default:d(()=>[Xt,e("span",null,t(h.$t("Accept")),1)]),_:1}),s(x,{color:"danger",style:{width:"45%"},class:"is-justify-content-center",onClick:v[2]||(v[2]=D=>S(0))},{default:d(()=>[Jt,e("span",null,t(h.$t("Reject")),1)]),_:1})],64))])):(o(),p(R,{key:1},[w.vote?(o(),p("div",Qt,[s(x,{class:"is-fullwidth is-justify-content-center",color:w.vote.value===1?"success":"danger"},{default:d(()=>[e("span",Zt,[e("i",{"aria-hidden":"true",class:"iconify","data-icon":w.vote.value===1?"feather:check":"feather:x"},null,8,ea)]),e("span",null,t(w.vote.value===1?h.$t("Accepted"):h.$t("Rejected")),1)]),_:2},1032,["color"]),s(B,{items:[{title:h.$t("Description"),content:w.vote.description}],"with-chevron":""},null,8,["items"])])):(o(),p("div",ta,[s(x,{class:"is-fullwidth is-justify-content-center",static:""},{default:d(()=>[e("span",null,t(h.$t("Not_voted_yet")),1)]),_:1})]))],64))],2)]))),128))]),_:1})]),s(j,{modelValue:l.value,"onUpdate:modelValue":v[3]||(v[3]=w=>l.value=w),item:k.value?.find(w=>w.is_me)?.vote,"selected-answer":g.value,"parent-id":Number(n(i)),"onUpdate:list":v[4]||(v[4]=()=>{_(),y()})},null,8,["modelValue","item","selected-answer","parent-id"])])}}}),sa=["onClick"],na=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:edit"})],-1),oa={class:"meta"},la=e("hr",{class:"dropdown-divider"},null,-1),ia=["onClick"],ca=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:trash"})],-1),da={class:"meta"},ra=A({emits:["edit","remove"],setup(u,{emit:f}){return(a,m)=>{const i=Ve;return o(),N(i,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:d(({close:l})=>[e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:T(()=>{f("edit"),l()},["prevent"])},[na,e("div",oa,[e("span",null,t(a.$t("Edit")),1)])],8,sa),la,e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:T(()=>{f("remove"),l()},["prevent"])},[ca,e("div",da,[e("span",null,t(a.$t("Remove")),1)])],8,ia)]),_:1})}}}),ua={class:"applicant-list-wrapper"},ma={class:"is-size-3 mb-3"},_a=["textContent"],pa={key:0,class:"flex-list-inner"},ha={key:0,style:{"white-space":"break-spaces"}},fa=A({async setup(u){let f,a;const m=te(),i=$e(),{t:l,locale:g}=q(),k=m.params?.id??null,r=Z({pagination:{current_page:1,per_page:10,total:10},result:[]}),S=V(!1),_=V(),y=ie({get:()=>r.pagination.current_page,set:async b=>{await x(b)}}),h=({order:b,a:c,b:$})=>b==="asc"?c.location.localeCompare($.location):b==="desc"?$.location.localeCompare(c.location):0,v={orderNumber:{format:(b,c,$)=>`${$+1}`,cellClass:"is-flex-grow-0"},message:{label:l("Notice_message"),searchable:!0,sortable:!0,sort:h},text:{label:l("Notice_details")},status:{label:l("Status")},actions:{label:l("Actions"),align:"center"}},C=me();[f,a]=ne(()=>x()),await f,a();async function x(b=1){const c=await Je(Number(k),b);Object.assign(r,c)}async function B(b){_.value=b,S.value=!0}async function j(b){_.value=b,i.$patch({confirmModalState:!0})}async function w(){await Qe(_.value),x()}function O(){C.success(l("Updated_successfully"))}function D(){_.value=void 0}return(b,c)=>{const $=Ie,P=K,E=he,G=be,X=ut,J=ra,M=xe,ae=Me,I=Ne,z=ct,L=De;return o(),p("div",ua,[s(E,{class:"mb-4","flex-wrap":"wrap"},{default:d(()=>[s($,null,{default:d(()=>[e("h1",ma,t(b.$t("Statement_notices")),1)]),_:1}),s($,{class:"ml-auto"},{default:d(()=>[s(P,{outlined:"",rounded:"",color:"info",icon:"feather:plus",onClick:c[0]||(c[0]=T(W=>S.value=!0,["prevent"]))},{default:d(()=>[U(t(b.$t("Add")),1)]),_:1})]),_:1})]),_:1}),s(I,{columns:n(v),data:n(r).result,limit:n(r).pagination.per_page,total:n(r).pagination.total},{default:d(W=>[s(M,{rounded:""},{"header-column":d(({column:Y})=>[Y.key==="orderNumber"?(o(),p("span",{key:0,class:"is-flex-grow-0",textContent:t("#")},null,8,_a)):F("",!0)]),body:d(()=>[n(r).result.length===0?(o(),p("div",pa,[s(G,{title:b.$t("No_data"),subtitle:b.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):F("",!0)]),"body-cell":d(({row:Y,column:H,value:fe})=>[H.key==="text"?(o(),p("div",ha,t(Y.text),1)):H.key==="status"&&fe?(o(),N(X,{key:1,status:fe},null,8,["status"])):H.key==="actions"?(o(),N(J,{key:2,onEdit:Ue=>B(Y.id),onRemove:Ue=>j(Y.id)},null,8,["onEdit","onRemove"])):F("",!0)]),_:1}),n(r).result.length?(o(),N(ae,{key:0,"current-page":n(y),"onUpdate:current-page":c[1]||(c[1]=Y=>ke(y)?y.value=Y:null),class:"mt-6","item-per-page":n(r).pagination.per_page,"total-items":n(r).pagination.total},null,8,["current-page","item-per-page","total-items"])):F("",!0)]),_:1},8,["columns","data","limit","total"]),s(z,{modelValue:S.value,"onUpdate:modelValue":c[2]||(c[2]=W=>S.value=W),"item-id":_.value,"parent-id":Number(n(k)),"onUpdate:list":c[3]||(c[3]=()=>{x(),O(),D()}),onClose:D},null,8,["modelValue","item-id","parent-id"]),s(L,{onConfirmAction:w})])}}}),va=["onClick"],ga=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:edit"})],-1),$a={class:"meta"},ba=e("hr",{class:"dropdown-divider"},null,-1),ya=["onClick"],wa=e("div",{class:"icon"},[e("i",{class:"iconify","aria-hidden":"true","data-icon":"feather:trash"})],-1),Va={class:"meta"},ka=A({emits:["edit","remove"],setup(u,{emit:f}){return(a,m)=>{const i=Ve;return o(),N(i,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:d(({close:l})=>[e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:T(()=>{f("edit"),l()},["prevent"])},[ga,e("div",$a,[e("span",null,t(a.$t("Edit")),1)])],8,va),ba,e("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:T(()=>{f("remove"),l()},["prevent"])},[wa,e("div",Va,[e("span",null,t(a.$t("Remove")),1)])],8,ya)]),_:1})}}});const Ca={class:"applicant-list-wrapper"},Sa={class:"is-size-3 mb-3"},Da=["textContent"],xa={key:0,class:"flex-list-inner"},Na={key:1,style:{"white-space":"break-spaces"}},Ma={key:2},Ia={key:3},Fa={class:"text-truncate"},Ua=["href"],Aa=A({async setup(u){let f,a;const m=te(),i=$e(),{t:l,locale:g}=q(),k=m.params?.id??null,r=Z({pagination:{current_page:1,per_page:10,total:10},result:[]}),S=V(!1),_=V(),y=ie({get:()=>r.pagination.current_page,set:async D=>{await C(D)}}),h={orderNumber:{format:(D,b,c)=>`${c+1}`,cellClass:"is-flex-grow-0"},user:{label:l("Created_by")},text:{label:l("Conclusion_desc"),grow:!0},department:{label:l("Department")},files:{label:l("Files"),grow:!0},actions:{label:l("Actions"),align:"center"}},v=me();[f,a]=ne(()=>C()),await f,a();async function C(D=1){const b=await Ze(Number(k),D);Object.assign(r,b)}async function x(D){_.value=D,S.value=!0}async function B(D){_.value=D,i.$patch({confirmModalState:!0})}async function j(){await et(_.value),C()}function w(){_.value=void 0}function O(){v.success(l("Updated_successfully"))}return(D,b)=>{const c=Ie,$=K,P=he,E=be,G=ka,X=xe,J=Me,M=Ne,ae=dt,I=De;return o(),p("div",Ca,[s(P,{class:"mb-4","flex-wrap":"wrap"},{default:d(()=>[s(c,null,{default:d(()=>[e("h1",Sa,t(D.$t("Statement_conclusions")),1)]),_:1}),s(c,{class:"ml-auto"},{default:d(()=>[s($,{outlined:"",rounded:"",color:"info",icon:"feather:plus",onClick:b[0]||(b[0]=T(z=>S.value=!0,["prevent"]))},{default:d(()=>[U(t(D.$t("Add")),1)]),_:1})]),_:1})]),_:1}),s(M,{columns:n(h),data:n(r).result,limit:n(r).pagination.per_page,total:n(r).pagination.total},{default:d(z=>[s(X,{rounded:""},{"header-column":d(({column:L})=>[L.key==="orderNumber"?(o(),p("span",{key:0,class:"is-flex-grow-0",textContent:t("#")},null,8,Da)):F("",!0)]),body:d(()=>[n(r).result.length===0?(o(),p("div",xa,[s(E,{title:D.$t("No_data"),subtitle:D.$t("There_is_no_data_that_match_your_query"),class:"my-6"},null,8,["title","subtitle"])])):F("",!0)]),"body-cell":d(({row:L,column:W,value:Y})=>[W.key==="user"?(o(),p(R,{key:0},[Y.avatar?(o(),N(Se,{key:0,picture:Y.avatar,class:"mr-5"},null,8,["picture"])):F("",!0),e("h1",null,t(Y.firstname+" "+Y.lastname),1)],64)):F("",!0),W.key==="text"?(o(),p("div",Na,t(L.text),1)):F("",!0),W.key==="department"?(o(),p("span",Ma,t(Y.name),1)):F("",!0),W.key==="files"?(o(),p("ul",Ia,[(o(!0),p(R,null,ee(Y,H=>(o(),p("li",Fa,[e("a",{href:H.file,class:"has-text-primary"},t(H.name),9,Ua)]))),256))])):W.key==="actions"?(o(),N(G,{key:4,onEdit:H=>x(L.id),onRemove:H=>B(L.id)},null,8,["onEdit","onRemove"])):F("",!0)]),_:1}),n(r).result.length?(o(),N(J,{key:0,"current-page":n(y),"onUpdate:current-page":b[1]||(b[1]=L=>ke(y)?y.value=L:null),class:"mt-6","item-per-page":n(r).pagination.per_page,"total-items":n(r).pagination.total},null,8,["current-page","item-per-page","total-items"])):F("",!0)]),_:1},8,["columns","data","limit","total"]),s(ae,{modelValue:S.value,"onUpdate:modelValue":b[2]||(b[2]=z=>S.value=z),"item-id":_.value,"parent-id":Number(n(k)),"onUpdate:list":b[3]||(b[3]=()=>{C(),O(),w()}),onClose:w},null,8,["modelValue","item-id","parent-id"]),s(I,{onConfirmAction:j})])}}}),Ba=Ce(Aa,[["__scopeId","data-v-2250186c"]]),ja=["onSubmit"],Oa={class:"columns is-multiline"},Ya={class:"column is-12"},Ta={class:"help has-text-danger"},Ra=A({props:{modelValue:{type:Boolean,default:!1},statementId:null,statementStage:null},emits:["update:modelValue","update:stage","update:data"],setup(u,{emit:f}){const a=u,{t:m,locale:i}=q(),l=V([]),g=Z({stage_id:""});let k=V(m("Change_statement_stage"));const r=V(),S=V(!1);_e(async()=>{const h=await mt();r.value=a.statementStage,l.value=h});async function _(h){try{S.value=!0,await tt(Number(a.statementId),{stage_id:r.value}),f("update:data"),y()}catch(v){Object.assign(g,v.response?.data?.errors)}finally{S.value=!1}}function y(){Object.assign(g,{stage_id:""}),f("update:modelValue",!1)}return(h,v)=>{const C=pe("Multiselect"),x=re,B=ue,j=K,w=oe;return o(),N(w,{open:u.modelValue,size:"large",title:n(k),actions:"right",onClose:y},{content:d(()=>[e("form",{id:"statement-stage-form",class:"modal-form",onSubmit:T(_,["prevent"]),style:{"min-height":"200px"}},[e("div",Oa,[e("div",Ya,[s(B,{label:h.$t("Stages")},{default:d(()=>[s(x,null,{default:d(()=>[s(C,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=O=>r.value=O),options:l.value,placeholder:h.$t("Select_stages"),valueProp:"id",label:"name"},null,8,["modelValue","options","placeholder"]),e("p",Ta,t(n(g).stage_id[0]),1)]),_:1})]),_:1},8,["label"])])])],40,ja)]),action:d(({close:O})=>[s(j,{loading:S.value,color:"primary",outlined:"",type:"submit",form:"statement-stage-form",disabled:S.value},{default:d(()=>[U(t(h.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["open","title"])}}}),Pa=["onSubmit"],Ea={class:"columns is-multiline"},qa={class:"column is-12"},za={class:"help has-text-danger"},La={class:"column is-12"},Wa={class:"help has-text-danger"},Ga={class:"help has-text-danger"},Ha={class:"column is-12"},Ka={class:"help has-text-danger"},Xa={class:"column is-12"},Ja=A({props:{modelValue:{type:Boolean,default:!1},statementId:{default:""}},emits:["update:modelValue","update:list"],async setup(u,{emit:f}){let a,m;const i=u,{t:l,locale:g}=q(),k=V([]),r=V(""),S=V(""),_=V(""),y=V(""),h=([a,m]=ne(()=>at()),a=await a,m(),a),v=V({input:"DD.MM.YYYY"}),C=Z({status_id:"",file:"",number:"",drug_name:"",start_date:"",end_date:"",manufacturer_name:""});let x=V(l("Add_certificate"));async function B(b){try{const c={application_id:i.statementId,file:typeof k.value[0]=="object"?k.value[0]:"",number:r.value,start_date:S.value,end_date:_.value,status_id:y.value},$=new FormData;$.append("application_id",c.application_id),$.append("file",c.file),$.append("number",c.number),$.append("start_date",ge(c.start_date).format("YYYY-MM-DD")),$.append("end_date",ge(c.end_date).format("YYYY-MM-DD")),$.append("status_id",c.status_id),await st($),j()}catch(c){Object.assign(C,c.response?.data?.errors)}}function j(){y.value="",k.value=[],r.value="",S.value="",_.value="",Object.assign(C,{status_id:"",file:"",number:"",start_date:"",end_date:""}),f("update:modelValue",!1)}function w(b){const c=b.target;C[c.name]=""}function O(b){const c=b.target;k.value=c.files&&[c.files[0]],C.file=""}function D(){k.value=[]}return(b,c)=>{const $=qe,P=re,E=ue,G=pe("VDatePicker"),X=rt,J=_t,M=K,ae=oe;return o(),N(ae,{open:u.modelValue,size:"large",title:n(x),actions:"right",onClose:j},{content:d(()=>[e("form",{id:"certificate-form",class:"modal-form",onSubmit:T(B,["prevent"])},[e("div",Ea,[e("div",qa,[s(E,{label:b.$t("Certificate_number"),required:""},{default:d(()=>[s(P,{"has-error":n(C).number[0]},{default:d(()=>[s($,{type:"number",min:0,max:1e8,name:"number",placeholder:b.$t("Add_certificate_number"),modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=I=>r.value=I),onInput:w},null,8,["placeholder","modelValue"]),e("p",za,t(n(C).number[0]),1)]),_:1},8,["has-error"])]),_:1},8,["label"])]),e("div",La,[s(he,{"column-gap":"1rem"},{default:d(()=>[s(G,{locale:n(g),masks:v.value,modelValue:S.value,"onUpdate:modelValue":c[1]||(c[1]=I=>S.value=I),color:"green","trim-weeks":""},{default:d(({inputValue:I,inputEvents:z})=>[s(E,{label:b.$t("Start_date"),required:""},{default:d(()=>[s(P,{icon:"feather:calendar"},{default:d(()=>[s($,de({value:I},ve(z)),null,16,["value"]),e("p",Wa,t(n(C).start_date[0]),1)]),_:2},1024)]),_:2},1032,["label"])]),_:1},8,["locale","masks","modelValue"]),s(G,{locale:n(g),masks:v.value,modelValue:_.value,"onUpdate:modelValue":c[2]||(c[2]=I=>_.value=I),color:"green","trim-weeks":""},{default:d(({inputValue:I,inputEvents:z})=>[s(E,{label:b.$t("End_date"),required:""},{default:d(()=>[s(P,{icon:"feather:calendar"},{default:d(()=>[s($,de({value:I},ve(z)),null,16,["value"]),e("p",Ga,t(n(C).end_date[0]),1)]),_:2},1024)]),_:2},1032,["label"])]),_:1},8,["locale","masks","modelValue"])]),_:1})]),e("div",Ha,[s(X,{name:"status_id",modelValue:y.value,"onUpdate:modelValue":c[3]||(c[3]=I=>y.value=I),list:n(h),"is-required":!0,onChange:w},null,8,["modelValue","list"]),e("p",Ka,t(n(C).status_id[0]),1)]),e("div",Xa,[s(J,{files:k.value,onFileUpload:O,onFileRemove:D,"error-message":n(C).file[0],"remote-files":[]},null,8,["files","error-message"])])])],40,Pa)]),action:d(({close:I})=>[s(M,{color:"primary",outlined:"",type:"submit",form:"certificate-form"},{default:d(()=>[U(t(b.$t("Save")),1)]),_:1})]),_:1},8,["open","title"])}}}),Qa={class:"timeline is-centered"},Za={class:"timeline-header"},es={class:"tag is-medium is-primary"},ts={class:"timeline-content"},as={class:"has-text-primary has-text-bold is-size-5"},ss={class:"heading"},ns={class:""},os={class:"timeline-content"},ls={class:"has-text-primary has-text-bold is-size-5"},is={class:"heading"},cs={class:""},ds={class:"timeline-header"},rs={class:"tag is-medium is-info"},us=A({props:{items:{default:()=>[]},squared:{type:Boolean},colored:{type:Boolean}},setup(u){const f=u;return(a,m)=>(o(),p("div",Qa,[e("header",Za,[e("span",es,t(a.$t("Start")),1)]),(o(!0),p(R,null,ee(f.items,(i,l)=>(o(),p("div",{key:i.id,class:"timeline-item"},[i.key==="stages"?(o(),p(R,{key:0},[e("div",{class:se(["timeline-marker is-icon",[i.date&&"is-primary has-text-white"]])},t(i.stage_number),3),e("div",ts,[e("span",null,t(i.date&&a.$h.formatDate(i.date,"DD.MM.YYYY")),1),e("p",as,t(i.stage),1),e("p",ss,t(i.department),1),e("p",ns,t(i.message),1)])],64)):(o(),p(R,{key:1},[e("div",{class:se(["timeline-marker has-text-dark",[i.date&&"is-primary has-text-white"]])},null,2),e("div",os,[e("span",null,t(i.date&&a.$h.formatDate(i.date,"DD.MM.YYYY")),1),e("p",ls,t(a.$t(i.key)),1),e("p",is,t(i.department),1),e("p",cs,t(i.message),1)])],64))]))),128)),e("header",ds,[e("span",rs,t(a.$t("End")),1)])]))}}),ms={class:"table is-hoverable is-fullwidth is-bordered"},_s={class:"has-text-weight-bold"},ps={class:"has-text-weight-bold"},hs={class:"has-text-weight-bold"},fs={class:"has-text-weight-bold"},vs={class:"has-text-weight-bold"},gs={class:"has-text-weight-bold"},$s={key:0},bs={class:"has-text-weight-bold"},ys=A({props:{modelValue:Boolean,id:Number,companyData:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(u,{emit:f}){const{t:a}=q(),m={name:{label:a("Company_name")},phone:{label:a("Phone_number")},bossName:{label:a("Boss_name")},website:a("Website"),stir:a("stir"),status:a("Status"),country:a("Country"),certificate:a("Certificate")};return(i,l)=>{const g=oe;return o(),N(g,{open:u.modelValue,title:i.$t("Company_info"),actions:"right",onClose:l[0]||(l[0]=k=>f("update:modelValue",!1)),"cancel-label":i.$t("Close")},{content:d(()=>[e("table",ms,[e("tbody",null,[e("tr",null,[e("td",_s,t(n(m).name.label),1),e("td",null,t(u.companyData?.name),1)]),e("tr",null,[e("td",ps,t(n(m).phone.label),1),e("td",null,t(u.companyData?.phone),1)]),e("tr",null,[e("td",hs,t(n(m).bossName.label),1),e("td",null,t(u.companyData?.boss_name),1)]),e("tr",null,[e("td",fs,t(n(m).website),1),e("td",null,t(u.companyData?.website),1)]),e("tr",null,[e("td",vs,t(n(m).stir),1),e("td",null,t(u.companyData?.inn),1)]),e("tr",null,[e("td",gs,t(n(m).status),1),u.companyData?.status?(o(),p("td",$s,[s(Fe,{class:"is-size-7",rounded:"",color:u.companyData?.status?.color},{default:d(()=>[U(t(u.companyData?.status?.name),1)]),_:1},8,["color"])])):F("",!0)]),e("tr",null,[e("td",bs,t(n(m).country),1),e("td",null,t(u.companyData?.country),1)])])])]),_:1},8,["open","title","cancel-label"])}}}),ws={class:"table is-hoverable is-bordered is-fullwidth"},Vs={class:"has-text-weight-bold"},ks={class:"has-text-weight-bold"},Cs={class:"has-text-weight-bold"},Ss={class:"has-text-weight-bold"},Ds={class:"has-text-weight-bold"},xs={class:"has-text-weight-bold"},Ns={class:"has-text-weight-bold"},Ms={class:"has-text-weight-bold"},Is=A({props:{modelValue:Boolean,id:Number,drugData:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(u,{emit:f}){const{t:a}=q(),m={name:{label:a("Drug_name")},saleName:{label:a("Sale_name")},composition:{label:a("Composition")},drugForm:a("Drug_form"),patentNumber:a("Patent_number"),use:a("Use"),producer:a("Producer"),manufacturer:a("Manufacturer")};return(i,l)=>{const g=oe;return o(),N(g,{open:u.modelValue,title:i.$t("Drug_details"),actions:"right",onClose:l[0]||(l[0]=k=>f("update:modelValue",!1)),"cancel-label":i.$t("Close")},{content:d(()=>[e("table",ws,[e("tbody",null,[e("tr",null,[e("td",Vs,t(n(m).name.label),1),e("td",null,t(u.drugData?.name),1)]),e("tr",null,[e("td",ks,t(n(m).saleName.label),1),e("td",null,t(u.drugData?.trade_name),1)]),e("tr",null,[e("td",Cs,t(n(m).composition.label),1),e("td",null,t(u.drugData?.structure),1)]),e("tr",null,[e("td",Ss,t(n(m).drugForm),1),e("td",null,t(u.drugData?.drug_figure),1)]),e("tr",null,[e("td",Ds,t(n(m).patentNumber),1),e("td",null,t(u.drugData?.patent),1)]),e("tr",null,[e("td",xs,t(n(m).use),1),e("td",null,t(u.drugData?.usage),1)]),e("tr",null,[e("td",Ns,t(n(m).producer),1),e("td",null,t(u.drugData?.preparer.name),1)]),e("tr",null,[e("td",Ms,t(n(m).manufacturer),1),e("td",null,t(u.drugData?.manufacturer.name),1)])])])]),_:1},8,["open","title","cancel-label"])}}});const ce=u=>(ze("data-v-f40faa40"),u=u(),Le(),u),Fs={class:"columns mt-5"},Us={class:"column is-6"},As={class:"table is-hoverable is-bordered is-fullwidth"},Bs={class:"has-text-weight-bold"},js=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Os={class:"has-text-weight-bold"},Ys=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Ts={class:"has-text-weight-bold"},Rs={class:"has-text-weight-bold"},Ps={class:"is-flex is-align-items-center"},Es={class:"mr-3"},qs={class:"has-text-weight-bold"},zs={class:"has-text-weight-bold"},Ls={class:"has-text-weight-bold"},Ws=["href"],Gs=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Hs={key:1,class:"has-text-danger"},Ks={class:"has-text-weight-bold"},Xs={class:"is-flex is-align-items-center"},Js=["href"],Qs=ce(()=>e("i",{class:"iconify","data-icon":"feather:link","aria-hidden":"true"},null,-1)),Zs={key:1,class:"has-text-danger"},en={class:"column is-6"},tn=A({setup(u){const f=te(),{t:a,locale:m}=q(),i=me(),l={company:{label:a("Applied_legal_entity")},drug:{label:a("Drug_name")},statementCreator:{label:a("Statement_creator")},stage:{label:a("Stage")},date:{label:a("applied_at")},paymentStatus:{label:a("Payment_status")},contract:{label:a("Contract")},certificate:{label:a("Certificate")}};V(!1);const g=V(),k=V(),r=V(!1),S=V(!1),_=V(!1),y=V(!1),h=f.params?.id??null,v=V(),C=ie(()=>v.value?.stage.id),x=V(),B=V(!1);_e(async()=>{await O(),await D()});function j(c){g.value=c,r.value=!0}function w(c){k.value=c,S.value=!0}async function O(){const c=await nt(Number(h));v.value=c;const $=await ot(Number(h));x.value=$}async function D(){const c=await lt(Number(h));B.value=c.result}function b(){i.success(a("Success"))}return(c,$)=>{const P=Fe,E=pt,G=us,X=Ja,J=Ra;return o(),p("div",Fs,[e("div",Us,[s(E,{title:c.$t("Statement_details"),straight:"",class:"list-widget-v3"},{default:d(()=>[e("table",As,[e("tbody",null,[e("tr",null,[e("td",Bs,t(n(l).company.label),1),e("td",null,[e("a",{href:"javascript:;",class:"has-text-primary",onClick:$[0]||($[0]=M=>j(1))},[U(t(v.value?.legal_entity?.name)+" ",1),js])])]),e("tr",null,[e("td",Os,t(n(l).drug.label),1),e("td",null,[e("a",{href:"javascript:;",class:"has-text-primary",onClick:$[1]||($[1]=M=>w(1))},[U(t(v.value?.drug?.name)+" ",1),Ys])])]),e("tr",null,[e("td",Ts,t(n(l).statementCreator.label),1),e("td",null,t(v.value?.applicant),1)]),e("tr",null,[e("td",Rs,t(n(l).stage.label),1),e("td",Ps,[e("span",Es,t(v.value?.stage?.name),1),B.value?(o(),N(K,{key:0,class:"ml-auto",color:"primary",rounded:"",icon:"feather:edit-2",onClick:$[2]||($[2]=M=>y.value=!0)},{default:d(()=>[U(t(c.$t("Change_stage")),1)]),_:1})):F("",!0)])]),e("tr",null,[e("td",qs,t(n(l).date.label),1),e("td",null,t(v.value?.date&&c.$h.formatDate(v.value?.date,"HH:mm DD.MM.YYYY")),1)]),e("tr",null,[e("td",zs,t(n(l).paymentStatus.label),1),e("td",null,[v.value?.is_paid?(o(),N(P,{key:0,color:"primary",label:c.$t("Paid"),outlined:"",rounded:""},null,8,["label"])):(o(),N(P,{key:1,color:"danger",label:c.$t("Not_Paid"),outlined:"",rounded:""},null,8,["label"]))])]),e("tr",null,[e("td",Ls,t(n(l).contract.label),1),e("td",null,[v.value?.contract_id?(o(),p("a",{key:0,href:"/app/contract/"+v.value?.contract_id,class:"has-text-primary"},[U(t(c.$t("Link_for_contract"))+" ",1),Gs],8,Ws)):(o(),p("span",Hs,t(c.$t("No_contract")),1))])]),e("tr",null,[e("td",Ks,t(n(l).certificate.label),1),e("td",Xs,[v.value?.certificate?(o(),p("a",{key:0,href:v.value?.certificate?.file,class:"has-text-primary",download:""},[U(t(v.value?.certificate?.number)+" ",1),Qs],8,Js)):(o(),p("span",Zs,t(c.$t("No_certificate")),1)),s(K,{class:"ml-auto",color:"primary",rounded:"",icon:"fas fa-plus",onClick:$[3]||($[3]=M=>_.value=!0)},{default:d(()=>[U(t(c.$t("Upload")),1)]),_:1})])])])])]),_:1},8,["title"])]),e("div",en,[s(E,{title:c.$t("Chronology"),straight:"",class:"list-widget-v3"},{default:d(()=>[s(G,{items:x.value},null,8,["items"])]),_:1},8,["title"])]),s(ys,{modelValue:r.value,"onUpdate:modelValue":$[4]||($[4]=M=>r.value=M),"company-data":v.value?.legal_entity},null,8,["modelValue","company-data"]),s(Is,{modelValue:S.value,"onUpdate:modelValue":$[5]||($[5]=M=>S.value=M),"drug-data":v.value?.drug},null,8,["modelValue","drug-data"]),s(X,{modelValue:_.value,"onUpdate:modelValue":$[6]||($[6]=M=>_.value=M),"statement-id":n(h),onClose:O},null,8,["modelValue","statement-id"]),s(J,{modelValue:y.value,"onUpdate:modelValue":$[7]||($[7]=M=>y.value=M),"statement-id":Number(n(h)),"statement-stage":n(C),"onUpdate:data":$[8]||($[8]=()=>{O(),b()})},null,8,["modelValue","statement-id","statement-stage"])])}}}),an=Ce(tn,[["__scopeId","data-v-f40faa40"]]);const sn=["open"],nn=["onKeydown","onClick"],on={class:"collapse-icon"},ln={class:"collapse-content"},cn={key:0},dn=["href"],rn={class:"ml-3"},un={key:1},mn=A({setup(u){const a=te().params?.id??null,m=V([]),i=g=>{m.value.includes(g)?m.value.splice(m.value.indexOf(g),1):m.value.push(g)},l=V();return _e(async()=>{const g=await it(Number(a));l.value=g,m.value=g.map((k,r)=>r)}),(g,k)=>{const r=we,S=pe("VueIconify");return o(!0),p(R,null,ee(l.value,(_,y)=>(o(),p("details",{key:y,class:"has-chevron collapse",open:m.value?.includes(y)??void 0},[Q(g.$slots,"collapse-item",{item:_,index:y,toggle:i},()=>[e("summary",{class:"collapse-header",tabindex:"0",onKeydown:ye(T(()=>i(y),["prevent"]),["space"]),onClick:T(()=>i(y),["prevent"])},[e("h3",null,[Q(g.$slots,"collapse-item-summary",{item:_,index:y,toggle:i},()=>[U(t(y+1+". "+_.name),1)])]),e("div",on,[s(r,{icon:"feather:chevron-down"})])],40,nn),e("div",ln,[e("p",null,[Q(g.$slots,"collapse-item-content",{item:_,index:y,toggle:i},()=>[_.files.length?(o(),p("ul",cn,[(o(!0),p(R,null,ee(_.files,h=>(o(),p("li",null,[e("a",{href:h.file,class:"has-text-primary"},[s(S,{icon:"feather:file",height:"1rem"}),e("span",rn,t(h.name),1)],8,dn)]))),256))])):(o(),p("span",un,t(g.$t("Docs_not_attached_yet")),1))])])])])],8,sn))),128)}}}),_n={class:"statement-detail-wrapper"},pn={key:0},hn={key:1,class:"mt-5"},fn={key:2,class:"mt-5"},vn={key:3,class:"mt-5"},gn={key:4,class:"mt-5"},$n={key:5,class:"mt-5"},Pn=A({setup(u){const{t:f}=q(),a=te(),m=V(a.hash.slice(1)||"details"),i=V([{label:f("Statement_details"),value:"details",icon:"lnil lnil-tap"},{label:f("Statement_docs"),value:"docs",icon:"lnil lnil-files"},{label:f("Statement_conclusions"),value:"conclusions",icon:"lnil lnil-euro-down"},{label:f("Statement_notices"),value:"notices",icon:"lnil lnil-euro-down"},{label:f("ITK"),value:"itk",icon:"feather:activity"},{label:f("Chat"),value:"chat",icon:"fas fa-comments"}]);return ht().setPageTitle(f("Statement_card")),We({title:ie(()=>f("Statement_card"))}),(g,k)=>{const r=an,S=Ba,_=fa,y=aa,h=Be,v=Ae;return o(),p("div",_n,[s(v,{selected:m.value,tabs:i.value},{tab:d(({activeValue:C})=>[C==="details"?(o(),p("div",pn,[s(r)])):C==="docs"?(o(),p("div",hn,[s(mn)])):C==="conclusions"||n(a).hash=="#conclusions"?(o(),p("div",fn,[s(S)])):C==="notices"||n(a).hash=="#notices"?(o(),p("div",vn,[s(_)])):C==="itk"?(o(),p("div",gn,[s(y)])):C==="chat"?(o(),p("div",$n,[s(h)])):F("",!0)]),_:1},8,["selected","tabs"])])}}});export{Pn as default};
