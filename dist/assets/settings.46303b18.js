import{A as h,b as S,bU as V,O as w,a as N,B as x,r as B,f as E,o as v,j as C,k as s,t as r,s as e,w as a,p as O,l as j,G as c,x as U,Q as W,a5 as D,a3 as F,a4 as I,P as T,g as z}from"./index.bb4908f5.js";import{u as A}from"./viewWrapper.337e6d03.js";const G={class:"account-box is-form is-footerless"},H={class:"form-head-inner"},L={class:"left"},M={class:"right"},Q={class:"buttons"},R=["onSubmit"],q={class:"fieldset"},J=s("div",{class:"fieldset-heading"},null,-1),K={class:"columns is-multiline"},X={class:"column is-12"},Y={class:"help has-text-danger"},Z={class:"column is-12"},ss={class:"help has-text-danger"},es={class:"column is-12"},os={class:"help has-text-danger"},as=h({setup(g){const t=S(),{y:m}=V(),{t:d,locale:y}=w(),{updateProfilePassword:i}=N(),_=x(!1),n=B({old_password:[],password:[],password_confirmation:[]}),b=E(()=>m.value>30);async function k(o){try{_.value=!0,P();const l=Object.fromEntries(new FormData(o.target));await i(l),t.success(d("Updated_successfully"))}catch(l){t.error(d("Error_while_updating_data")),Object.assign(n,l.response?.data?.errors)}finally{_.value=!1}}function P(){Object.assign(n,{old_password:[],password:[],password_confirmation:[]})}return(o,l)=>{const $=W,p=D,u=F,f=I;return v(),C("div",G,[s("div",{class:j(["form-head stuck-header",[c(b)&&"is-stuck"]])},[s("div",H,[s("div",L,[s("h3",null,r(o.$t("Change_password")),1)]),s("div",M,[s("div",Q,[e($,{type:"submit",color:"primary",raised:"",loading:_.value,tabindex:"0",form:"pwd-update-form"},{default:a(()=>[O(r(o.$t("Save_changes")),1)]),_:1},8,["loading"])])])])],2),s("form",{id:"pwd-update-form",class:"form-body",onSubmit:U(k,["prevent"])},[s("div",q,[J,s("div",K,[s("div",X,[e(f,null,{default:a(()=>[e(u,{icon:"feather:unlock"},{default:a(()=>[e(p,{type:"password",placeholder:o.$t("Old_Password"),name:"old_password"},null,8,["placeholder"]),s("p",Y,r(c(n).old_password[0]),1)]),_:1})]),_:1})]),s("div",Z,[e(f,null,{default:a(()=>[e(u,{icon:"feather:lock"},{default:a(()=>[e(p,{type:"password",placeholder:o.$t("New_Password"),name:"password"},null,8,["placeholder"]),s("p",ss,r(c(n).password[0]),1)]),_:1})]),_:1})]),s("div",es,[e(f,null,{default:a(()=>[e(u,{icon:"feather:lock"},{default:a(()=>[e(p,{type:"password",placeholder:o.$t("Repeat_New_Password"),name:"password_confirmation"},null,8,["placeholder"]),s("p",os,r(c(n).password_confirmation[0]),1)]),_:1})]),_:1})])])])],40,R)])}}}),rs=h({setup(g){const{t}=w();return A().setPageTitle(t("Edit_profile_pwd")),T({title:`${t("Edit_profile_pwd")} - Nefrit`}),(d,y)=>{const i=as;return v(),z(i)}}});export{rs as default};
